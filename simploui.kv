#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import NoTransition kivy.uix.screenmanager.NoTransition
#: import Factory kivy.factory.Factory

<ScreenManager>:
    
    
<ScreenBuilder>:
	LogInPage:
	BudgetScreen:
	SaleListing:
	BalancesAnalysis:
	SimploStatsAccount:	
	HomeScreen:
	IncomeStatement:
	MakeJournalEntries:
	ChartsOfAccounts:
	ViewAccounts:
	BalanceSheet:
	TrialBalance:
	HelpAndSupport:
	FinancialAnalysis:
	OperationAnalysis:
		
<ZoomableScrollView>:
		
		
<LoadingPopup>:
	title: 'Loading...Please wait.'
	size_hint: None, None
	size: dp(300), dp(100)
	auto_dismiss: False
				
	
<SavedPopup>:
	title: 'Saved !'
	size_hint: None, None
	size: dp(250), dp(80)
	auto_dismiss: True
	

<EnterBill>:
	title: 'Enter Bill'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Enter bills for Expenses as liabilities to pay for them later.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Which expense are you billing for?'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				Spinner:
					id: expense_category
					text: 'Expense Category'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .6
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					bold: True
					values: ['Operating Expenses', 'Other Expenses']
					font_size: '15sp'
					on_text:
						root.load_expenses_accounts(self.text)
					
				Spinner:
					id: expense_account
					text: 'Expense Account'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: []
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Which Current Liability Account is to be affected? '
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: liability_account
					text: 'Select Account'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.update_current_liabilities()
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'bill amount:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text_validate:
						memo.focus = True
					
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'memo/ details:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: memo
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'description'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text:
						root.on_text_account(self)
						
			MDFillRoundFlatIconButton:
				icon: 'receipt'
				text: 'Save Bill'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.confirm_bill(transaction_date.text, expense_category.text, expense_account.text, liability_account.text, amount.text, memo.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
<HelpPopup>:
	title: 'SimploStats Help'
    size_hint: 1, 1
    auto_dismiss: True
    
    help_label:  help_label
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				canvas.before:
					Color:
						rgba: 255,255,255,1
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: '   '
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
			MDLabel:
				id: help_label
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: ''
				size_hint_x: .95
				padding: [20,20]
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'SimploStats For You'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
	
<MakePurchaseJournal>:
	title: 'Make Purchase'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Record a Purchase Journal From a Cost of Sales Account'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
					
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Sale an account from Cost of Sales to be affected by purchases'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: cos_account
					text: 'Select Account'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.return_cosales_accounts()
					font_size: '15sp'
					on_text:
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Select the Category| Bank or Supplier (Current Liabilities) the purchase is being made'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: account_category
					text: 'Account Category'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: ['Account Category', 'Bank', 'Current Liabilities']
					font_size: '15sp'
					on_text:
						root.load_category_accounts(self.text)
						
				Spinner:
					id: account_name
					text: 'Choose Account'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					font_size: '15sp'
					on_text:
						
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Purchase amount: '
					size_hint_x: .5
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.5, None
					font_size: '15sp'
					on_text_validate:
						memo.focus = True
					
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'memo/ details:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: memo
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'description'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text:
						root.on_text_account(self)
						
			MDFillRoundFlatIconButton:
				icon: 'content-save'
				text: 'Make Purchase Journal'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.confirm_purchase_journal(transaction_date.text, cos_account.text, account_category.text, account_name.text, amount.text, memo.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
	
<MakeSaleJournal>:
	title: 'Make Sale'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Record a Sales journal as Operating Revenue made to Customers on Cash or Credit'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
					
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Select the Operating Revenue account/Sales account to affect'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: sales_account
					option_cls: 'CustomSpinnerOption'
					text: 'Select Account'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.return_sales_accounts()
					font_size: '15sp'
					on_text:
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Select the Category| Bank or Customer (Current Assets) the sale is being made to'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: account_category
					text: 'Account Category'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: ['Account Category', 'Bank', 'Current Assets']
					font_size: '15sp'
					on_text:
						root.load_category_accounts(self.text)
						
				Spinner:
					id: account_name
					text: 'Choose Account'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					font_size: '15sp'
					on_text:
						
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Revenue amount: '
					size_hint_x: .5
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.5, None
					font_size: '15sp'
					on_text_validate:
						memo.focus = True
					
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'memo/ details:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: memo
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'description'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text:
						root.on_text_account(self)
						
			MDFillRoundFlatIconButton:
				icon: 'content-save'
				text: 'Make Sale Journal'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.confirm_sales_journal(transaction_date.text, sales_account.text, account_category.text, account_name.text, amount.text, memo.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	

<PayTaxes>:
	title: 'Pay Taxes'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Record Tax payment as either cash or credit entry'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
					
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Select the tax account from Taxes Category to which the tax is being made'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: taxes_account
					text: 'Select Account'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.return_taxes_accounts()
					font_size: '15sp'
					on_text:
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Select if tax payment is from a bank account or as a current liability'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: account_category
					text: 'Account Category'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: ['Account Category', 'Bank', 'Current Liabilities']
					font_size: '15sp'
					on_text:
						root.load_category_accounts(self.text)
						
				Spinner:
					id: account_name
					text: 'Choose Account'
					size_hint_y: None
					height: self.texture_size[1] + 30
					option_cls: 'CustomSpinnerOption'
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					font_size: '15sp'
					on_text:
						
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Tax amount: '
					size_hint_x: .5
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.5, None
					font_size: '15sp'
						
			MDFillRoundFlatIconButton:
				icon: 'content-save'
				text: 'Pay Taxes'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.confirm_taxes_payment(transaction_date.text, taxes_account.text, account_category.text, account_name.text, amount.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
	
<NormalDepreciation>:
	title: 'Record Depreciation'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Record Depreciation on Non Current Assets for this financial period'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
					
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Is it depreciation as an operating Expense or Other Expense? Select Below'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: operating_or_other
					text: 'Operating or Other'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: ['Operating or Other', 'Operating Expenses', 'Other Expenses']
					font_size: '15sp'
					on_text:
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Select the affected Non Current Asset'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: non_current_asset
					text: 'Select Account'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					option_cls: 'CustomSpinnerOption'
					bold: True
					values: root.load_non_current_assets_accounts()
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Depreciation amount: '
					size_hint_x: .5
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.5, None
					font_size: '15sp'
						
			MDFillRoundFlatIconButton:
				icon: 'content-save'
				text: 'Save Depreciation'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.confirm_depreciation(transaction_date.text, operating_or_other.text, non_current_asset.text, amount.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
	
<AccumulatedDepreciation>:
	title: 'Record Accumulated Depreciation'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Record the Accumulated Depreciation on Non Current Assets for Prior Periods'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Select the affected Non Current Asset'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: non_current_asset
					text: 'Select Account'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.load_non_current_assets_accounts()
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Accum Dep amount: '
					size_hint_x: .5
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.5, None
					font_size: '15sp'
						
			MDFillRoundFlatIconButton:
				icon: 'content-save'
				text: 'Save Accumulated Dep'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.confirm_accumulated_depreciation(transaction_date.text, non_current_asset.text, amount.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
	
<OpeningBalance>:
	title: 'Record Opening Balances'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    debit_or_credit: debit_or_credit
    account_category: account_category
    account_name: account_name
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Record Opening Balances of Accounts by crediting or debiting "Opening Balance Equity" Special Account against the Selected Account'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Is it a credit or debit account?\nDebit accounts include Assets and Expenses, while credit accounts include Capital, Liabilities and Incomes'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: debit_or_credit
					text: 'Credit or Debit Account'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: ['Credit or Debit Account', 'Dedit Account', 'Credit Account']
					font_size: '15sp'
					on_text:
						root.load_credit_or_debit_categories(self.text)
						
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Select the Category|Account to record'
					size_hint_x: .95
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				Spinner:
					id: account_category
					text: 'Account Category'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: []
					font_size: '15sp'
					on_text:
						root.load_category_accounts(self.text)
					
				Spinner:
					id: account_name
					text: 'Choose Account'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: []
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'opening balance:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
						
			MDFillRoundFlatIconButton:
				icon: 'content-save'
				text: 'Save Opening Balance'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.confirm_opening_balance(transaction_date.text, debit_or_credit.text, account_category.text, account_name.text, amount.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
	
<QuickJournal>:
	title: 'Quick Journal'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    memo: memo
    amount: amount
    debit_account: debit_account
    credit_account: credit_account
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Make Quick Journal Entries for normal accounts'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Select the debit Category|Account'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: 1,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				Spinner:
					id: debit_category
					text: 'Account Category'
					size_hint_y: None
					height: self.texture_size[1] + 30
					option_cls: 'CustomSpinnerOption'
					size_hint_x: .6
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					values: ['Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
					font_size: '15sp'
					on_text:
						root.load_category_accounts(self.text, 'debit')
						
				Spinner:
					id: debit_account
					text: 'Choose Account'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					option_cls: 'CustomSpinnerOption'
					bold: True
					values: []
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					font_size: '15sp'
					on_text:
						
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Select the credit Category|Account'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
			BoxLayout:
				orientation: 'vertical'
				size_hint: 1,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
					
				Spinner:
					id: credit_category
					text: 'Account Category'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .6
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					values: ['Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
					font_size: '15sp'
					on_text:
						root.load_category_accounts(self.text, 'credit')
					
				Spinner:
					id: credit_account
					text: 'Choose Account'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					background_color: 0,0,0,.1
					option_cls: 'CustomSpinnerOption'
					color: app.return_theme_color()
					bold: True
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					values: []
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Record amount:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text_validate:
						memo.focus = True
					
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'memo/ details:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: memo
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'description'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text:
						root.on_text_account(self)
						
			MDFillRoundFlatIconButton:
				icon: 'content-save'
				text: 'Save Journal'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.confirm_journal(transaction_date.text, debit_category.text, debit_account.text, credit_category.text, credit_account.text, amount.text, memo.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
	
<WriteCheques>:
	title: 'Write Cheques'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    expense_account: expense_account
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Pay cash for Expenses'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Which expense to pay for?'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				Spinner:
					id: expense_category
					text: 'Expense Category'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .6
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					bold: True
					values: ['Operating Expenses', 'Other Expenses']
					font_size: '15sp'
					on_text:
						root.load_expenses_accounts(self.text)
					
				Spinner:
					id: expense_account
					text: 'Expense Account'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: []
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'pay with bank A/C? '
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: from_account
					text: 'Select Bank'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.update_bank_accounts()
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'pay amount:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text_validate:
						memo.focus = True
					
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'memo/ details:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: memo
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'description'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text:
						root.on_text_account(self)
						
			MDFillRoundFlatIconButton:
				icon: 'currency-usd'
				text: 'Write Cheque'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.confirm_cheque(transaction_date.text, expense_category.text, expense_account.text, from_account.text, amount.text, memo.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
	
<MakePayment>:
	title: 'Make Payment'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Make payment to accounts payables'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'pay amount to:  '
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: account_payable
					text: 'Select A/P'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.update_payable_accounts()
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'From which bank A/C? '
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: from_account
					text: 'Select Bank'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.update_bank_accounts()
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'payable amount:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text_validate:
						memo.focus = True
					
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'memo/ details:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: memo
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'description'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text:
						root.on_text_account(self)
						
			MDFillRoundFlatIconButton:
				icon: 'arrow-up-bold'
				text: 'Make Payment'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.make_payment(transaction_date.text, account_payable.text, from_account.text, amount.text, memo.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
	
<ReceivePayment>:
	title: 'Receive Payment'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Receive payment from accounts receivables'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'who is paying? '
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: account_receivable
					text: 'Select A/R'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.update_receivable_accounts()
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'To which bank A/C? '
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: 'black'
					
				Spinner:
					id: to_account
					text: 'Select Bank'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.update_bank_accounts()
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'receivable amount:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text_validate:
						memo.focus = True
					
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'memo/ details:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: memo
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'description'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
					on_text:
						root.on_text_account(self)
						
			MDFillRoundFlatIconButton:
				icon: 'arrow-down-bold'
				text: 'Receive Payment'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.receive_payment(transaction_date.text, account_receivable.text, to_account.text, amount.text, memo.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
	
<TransferFunds>:
	title: 'Tranfer Funds'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    from_account: from_account
    to_account: to_account
    account_balance: account_balance
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'All fields are required'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Make fund tranfer between your bank accounts'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: .95, None
								
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select date *'
					size_hint_x: 0.4
					font_size: '15sp'
					bold: True
					on_release:
						root.select_date(transaction_date)
								
				MDLabel:
					id: transaction_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .6
					bold: True
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'left'
					color: app.return_theme_color()
				
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'From: '
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					
				Spinner:
					id: from_account
					text: 'Select Bank'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.update_bank_accounts()
					font_size: '15sp'
					on_text:
						root.show_the_account_balance(self.text)
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Account balance:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
						
				MDLabel:
					id: account_balance
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: '0'
					size_hint_x: .6
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '16sp'
					halign: 'left'
					color: app.return_theme_color()
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
						
			BoxLayout:
				orientation: 'vertical'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'To: '
					size_hint_x: .6
					pos_hint: {'center_x': 0.3, 'center_y': 0.5}
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					
				Spinner:
					id: to_account
					text: 'Select Bank'
					option_cls: 'CustomSpinnerOption'
					size_hint_y: None
					height: self.texture_size[1] + 30
					size_hint_x: .8
					pos_hint: {'center_x': 0.6, 'center_y': 0.5}
					background_color: 0,0,0,.1
					color: app.return_theme_color()
					bold: True
					values: root.update_bank_accounts()
					font_size: '15sp'
					on_text:
						
			BoxLayout:
				orientation: 'horizontal'
				size_hint: .95,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				MDLabel:
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Transfer amount:  '
					size_hint_x: .4
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'black'
					pos_hint: {'center_x': 0.8, 'center_y': 0.5}
					
				TextInput:
					id: transfer_amount
					input_filter: 'float'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'amount'
					multiline: False
					size_hint: 0.6, None
					font_size: '15sp'
						
			MDFillRoundFlatIconButton:
				icon: 'transfer'
				text: 'Transfer Funds'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.make_fund_transfer(from_account.text, to_account.text, account_balance.text,transfer_amount.text, transaction_date.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
	
		
<BackUpData>:
	title: 'Backup your file'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
			
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Secure Your Financial Data:\nBack Up with Confidence'
				size_hint_x: 1
				padding: [10,10]
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'In the ever-evolving landscape of technology, securing your financial data is paramount. Safeguard your valuable information by backing up your Simplostats accounting app data to your mobile`s internal storage.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Why Backup to Internal Storage?'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				padding: [10,10]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Fail-Safe:\nIn the unfortunate event of app failure, your financial data remains secure and accessible directly from your mobile`s internal storage.\n\nQuick Recovery:\nRetrieving your data becomes a breeze when it`s stored locally, minimizing downtime and ensuring a swift recovery process.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'How to Backup:'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				padding: [10,10]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Select Backup Folder:\nChoose a designated folder within your mobile`s internal storage. Opt for a location inside another folder, avoiding the root storage. Consider the "Downloads" or "Documents" folder for added organization.\n\nBackup Regularly: Make it a habit to back up your financial data regularly. This ensures that your most recent transactions and updates are securely stored.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Why Documents or Downloads Folder?'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				padding: [10,10]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Preferred Storage:\nThe "Downloads" or "Documents" folder is commonly accessible and easily identifiable. Choosing either ensures a user-friendly experience and seamless retrieval when needed.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDFillRoundFlatIconButton:
				icon: 'sync'
				text: 'Presss to confirm and backup file'
				size_hint: 0.98, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_press:
					root.back_up_to_download()
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Recommended:\n\nBackup your financial data file to Google Drive for improved security. Select your file in storage folder from Drive'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDFillRoundFlatIconButton:
				icon: 'google-drive'
				text: 'Upload your file to google drive'
				size_hint: 0.98, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.backup_to_drive()
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: ''
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'red'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + 100
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
					
			Widget:
				
				
<BackUpDataOrExit>:
	title: 'SimploStats for you'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    theme: theme
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				Rectangle:
					pos: self.pos
					size: self.size
			
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Secure Your Financial Data:\nBack Up with Confidence'
				size_hint_x: 1
				padding: [20,10]
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
			MDFillRoundFlatIconButton:
				icon: 'sync'
				text: 'create local backup'
				size_hint: 0.88, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.is_account_created()
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Recommended:\n\nBackup your financial data file to Google Drive for improved security. Select your file in storage folder from Drive'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				padding: [10,10]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDFillRoundFlatIconButton:
				icon: 'google-drive'
				text: 'Upload your file to google drive'
				size_hint: 0.88, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.backup_to_drive()
					
			MDLabel:
				canvas.before:
					Color:
						rgba: 0,0,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: '\n    App Theme on next Launch'
				size_hint_x: .95
				underline: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
			Spinner:
				id: theme
				text: root.return_theme_color()
				size_hint_y: None
				height: self.texture_size[1] + dp(15)
				size_hint_x: .7
				option_cls: 'CustomSpinnerOption'
				pos_hint: {'center_x': 0.35, 'center_y': 0.5}
				background_color: 0,0,0,.1
				color: app.return_theme_color()
				values : ['Red', 'Pink', 'Purple', 'DeepPurple', 'Indigo', 'Blue', 'LightBlue', 'Cyan', 'Teal', 'Green', 'LightGreen', 'DeepOrange', 'Brown']
				font_size: '18sp'
				on_text:
					root.set_the_app_theme(self.text)
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Thank you for partnering with us, You may exit from the app'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDFillRoundFlatIconButton:
				icon: 'arrow-left'
				theme_text_color: "Custom"
				text: 'Exit from app'
				md_bg_color: 255,0,0
				text_color: 'white'
				size_hint: 0.6, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.close_app()
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: ''
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'red'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + 100
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
					
			Widget:
		
		
<DonateToAkauntin>:
	title: 'Donate'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
			
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Support the Future of Financial Management:\n Donate to Simplostats!'
				size_hint_x: 1
				size_hint_y: None
				padding: [10,10]
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Simplostats, your trusted accounting companion, thrives on your support. Your contribution ensures ongoing enhancements, feature expansions, and the maintenance of top-notch security. Empower the accounting experience for all users by making a donation today.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'How to Donate:'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				padding: [10,10]
				font_size: '17sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'PayPal:\n\nPress the button below and you shall be redirected to PayPal to donate'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDFillRoundFlatIconButton:
				icon: 'bank-transfer'
				text: 'Donate with PayPal Online'
				size_hint: 0.9, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				halign: 'center'
				on_release:
					root.donate_with_paypal()
					
			Button:
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Donate with PayPal App'
				size_hint_x: .9
				size_hint_y: None
				height: self.texture_size[1] + dp(10)
				background_color: 255,255,255
				bold: True
				halign: 'center'
				font_size: '15sp'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': .5}
				on_press:
					root.i_have_paypal_app()
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Kenya Mpesa:\n\nPress and copy our Mpesa number: Your generous support will propel Simplostats to new heights.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDFillRoundFlatIconButton:
				icon: 'phone'
				text: '+254790169466'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				halign: 'center'
				on_release:
					root.copy_to_clipboard(self.text)
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Worldcoin Address (Optimism Supported):\n\nSend coins to our Worldcoin address that supports Optimism: Your contribution fuels optimism for the future of financial management.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
			Button:
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: '0x0ffe0cf18493f10036cb38c8b1145202297fc0d6'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(10)
				background_color: 255, 255,255
				bold: True
				halign: 'center'
				font_size: '15sp'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': .5}
				on_press:
					root.copy_to_clipboard(self.text)
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Thank you for being part of the Simplostats community! Your donation is a key investment in shaping the next era of efficient, secure, and insightful accounting.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: ''
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'red'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: '# SimploStats for you'
				size_hint_x: 1
				size_hint_y: 1
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
				
			Widget:
		
		
<AboutsAndLegality>:
	title: 'Abouts and Legality'
    size_hint: 1, 1
    auto_dismiss: False
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
			
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'About Simplostats:\nRevolutionize Your Accounting Experience'
				size_hint_x: 1
				padding: [10,10]
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Simplostats is a cutting-edge accounting app meticulously crafted with Kivy in Python, providing users with a seamless and intuitive platform to record, manage, and analyze their financial information.\nTailored to meet diverse user preferences and requirements, Simplostats is designed to elevate your accounting experience to unprecedented heights'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Key Features:'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				padding: [10,10]
				font_size: '17sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'User-Centric Design:\nSimplostats revolves around user-centric design principles, ensuring a smooth and enjoyable experience for all users. The app understands the dynamic needs of businesses and individuals, adapting to various financial scenarios.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Comprehensive Panels:'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Chart of Accounts:\nEffortlessly organize your financial data with an intuitive chart of accounts.\n\nJournal Entries:\nKeep detailed records of your financial transactions with ease.\n\nIncome Statement:\nGain insights into your financial performance with a comprehensive income statement.\n\nTrial Balance Sheet:\nMaintain a balanced financial overview through the trial balance sheet.\n\nBudget Analysis:\nPlan for success by analyzing and managing your budget effectively.\n\nPie Chart Representation:\nVisualize your financial data with interactive pie charts for enhanced clarity.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Periodic Comparison in Accounting'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'In the accounting app, we have dedicated function to compare and identify variances between two distinct periods, each further segmented into specific dates. It holds significant importance for effective financial management and decision-making.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Summary for Enhanced Reporting'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Welcome to the Reports section of our accounting app, where you can unlock a wealth of insights tailored to your financial needs. Leverage the following functions to extract more useful information:\n\nDate-based Analysis\nCategory-based Segmentation\nCustomizable Display\nDynamic Filtering'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Tax Compliance:'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Simplostats includes a dedicated account to record taxes, ensuring that you effortlessly meet government requirements and maintain compliance with ease.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Automatic Transition:'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Seamlessly transition from one financial year to another with Simplostats. The app creates a new file with brought-down data, streamlining the process and reducing manual effort.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Data Security:'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Prioritize the security of your financial information by utilizing password protection features. Your data remains confidential and secure, accessible only to authorized users.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Export Capabilities:'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Simplostats empowers users by allowing seamless export of records to a CSV file. Open these files in MS Excel or related software to generate hardcopies, facilitating efficient reporting and documentation.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Help Panel:'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Need assistance? Simplostats features a dedicated help panel where users can find guidance and support whenever necessary. The user-friendly interface ensures that you can navigate and utilize the app effortlessly.'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Why Choose Simplostats:'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				padding: [10,10]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Simplostats isn`t just an accounting app; it`s a companion that understands and addresses your unique financial needs.\nWith its user-friendly design, comprehensive features, and commitment to data security, Simplostats offers an unparalleled accounting experience. \nEmbrace the future of financial managementchoose Simplostats for a journey into efficient, secure, and insightful accounting.\n\nElevate your financial game today!'
				size_hint_x: 1
				padding: [20,20]
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDFillRoundFlatIconButton:
				icon: 'check-circle'
				text: 'I understand'
				size_hint: 0.8, None
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.close_abouts_popup()
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
					
		
<PasswordSettings>:
	title: '  '
    size_hint: 1, 1
    auto_dismiss: True
    
	password_text: password_text
	error: error
	closing_date: closing_date
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	    	canvas.before:
				Color:
					rgb: 255,255,255
				Rectangle:
					pos: self.pos
					size: self.size
	        orientation: 'vertical'
	        spacing: 25
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 10
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
			
			MDLabel:
				id: error
				canvas.before:
					Color:
						rgb: 255,0,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Enter a Password to be used in loging in'
				size_hint_x: 1
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			TextInput:
				id: password_text
				height: self.minimum_height + dp(15)
				halign: 'center'
				hint_text: 'minimum of 4 characters'
				multiline: False
				size_hint: 0.7, None
				font_size: '15sp'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_text:
					root.on_text_account(self)
				on_text_validate:
					root.set_password(self.text)
			
			BoxLayout:
				size_hint: 1,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 5
				
				Button:
					text: 'Save Password'
					size_hint_x: .5
					size_hint_y: None
					height: self.texture_size[1] + 20
					background_color: app.theme_cls.primary_color
					background_normal: ''
					bold: True
					halign: 'center'
					font_size: '15sp'
					color: app.return_icon_color()
					#pos_hint: {'center_x': 0.5, 'center_y': .5}
					on_press:
						root.set_password(password_text.text)
						
				Button:
					text: 'Remove Password'
					size_hint_x: .5
					size_hint_y: None
					height: self.texture_size[1] + 20
					background_color: 0,0,0,0
					bold: True
					halign: 'center'
					font_size: '15sp'
					color: 'red'
					#pos_hint: {'center_x': 0.5, 'center_y': .5}
					on_press:
						root.remove_password()
						
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'App main file replacement\nImportant Notice: Secure Your Financial Data with Caution'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'In our ongoing commitment to enhance your accounting experience, we`ve introduced a convenient feature in our app. You can now replace the main file with an imported finance data file, saving you from repeatedly importing the same file for data recording.'
				size_hint_x: .98
				padding: [20,20]
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Key Points to Consider:'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Backup Your Original Main File:'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Before using the replace feature, we strongly advise you to back up your original main file. This precautionary step ensures that your existing financial data is securely saved.'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Password Authentication:'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'To guarantee the security of your financial information, a password is required for authentication. This step ensures that only authorized users can replace the main file, adding an extra layer of protection.'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Avoid Data Loss:'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Keep in mind that when the main file is replaced, the existing data is overwritten. Therefore, it`s crucial to back up your original file to prevent any unintended data loss.'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Efficiency in Data Recording:'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'The replace feature is designed for efficiency, eliminating the need to import the same file repeatedly. Use it wisely, and enjoy a streamlined data recording process.'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDRectangleFlatIconButton:
				icon: 'refresh'
				text: 'press to replace the main file'
				size_hint: 0.9, None
				halign: 'left'
				md_bg_color: 255,255,255
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				font_size: '15sp' #22
				#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.replace_the_main_file(password_text.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + 20
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
					
			MDLabel:
				canvas.before:
					Color:
						rgba: 255,0,0,0
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Close the Business'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '18sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Enhance Financial Clarity with "Close the Business" Feature'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Introducing the "Close the Business" feature in our accounting appa powerful tool to streamline your financial position. With this functionality, you can create a new file that records the balances of accounts, providing a clear snapshot of your business`s financial standing.'
				size_hint_x: .98
				padding: [20,20]
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Key Highlights:'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Password Protection:\nPrioritize the security of your financial data by entering a password before initiating the "Close the Business" process. This ensures that only authorized users have access to this powerful feature.\n\nDate Selection:\nChoose a specific date to mark the closure of your business. All new records generated within the saved financial year will be recorded in the new file, allowing you to keep distinct financial records for different business phases'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			BoxLayout:
				orientation: 'horizontal'
		        spacing: 5
				height: self.minimum_height
				size_hint: .9, None
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				canvas.before:
					Color:
						rgb: 255,255,255
					RoundedRectangle:
						pos: self.pos
						size: self.size
						
				MDRectangleFlatIconButton:
					icon: 'calendar'
					text: 'Select Date *'
					size_hint_x: 0.5
					font_size: '15sp'
					bold: True
					halign: 'center'
					on_release:
						root.select_date(closing_date)
						
				MDLabel:
					id: closing_date
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: root.show_date()
					size_hint_x: .5
					bold: True
					size_hint_y: None
					height: self.texture_size[1] +dp(8)
					font_size: '15sp'
					halign: 'left'
					color: 'green'
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Utilize the "Close the Business" feature to enhance your financial management practices. Secure, efficient, and tailored to meet the diverse needs of your businessempowering you to navigate the complexities of your financial landscape with confidence.'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
			MDRectangleFlatIconButton:
				icon: 'arrow-right'
				text: 'press to close the business'
				size_hint: 0.9, None
				md_bg_color: 255,255,255
				halign: 'left'
				font_size: '15sp' #22
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_release:
					root.on_press_close_business(closing_date.text, password_text.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + 20
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
				
			Widget:
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
				
					
				
		
<DatesPopup>:
	title: 'Date Selection'
    size_hint: .9, .58
    auto_dismiss: True
    
    #heading: heading
    dateit: dateit
    calendar_grid: calendar_grid
    show_month_year: show_month_year
    days_grid_layout: days_grid_layout
    selected_year: selected_year
    
    ScrollView:
    	canvas.before:
			Color:
				rgb: 255,255,255
			Rectangle:
				pos: self.pos
				size: self.size
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 10
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				id: dateit
				canvas.before:
					Color:
						rgba: 255,255,255,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: '__________'
				size_hint_x: .98
				bold: True
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '18sp'
				halign: 'center'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			BoxLayout:
				orientation: 'horizontal'
		        spacing: 0
				height: self.minimum_height
				size_hint: 1, None
				
				MDLabel:
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					canvas:
						Color:
							rgba: app.theme_cls.primary_color
						Line:
							points: self.x, self.y, self.x + self.width, self.y
							width: 2
					text: 'Type a year to select'
					size_hint_x: .5
					height: self.texture_size[1]
					bold: True
					size_hint_y: None
					#height: self.texture_size[1] + 20
					font_size: '15sp'
					halign: 'center'
					color: app.return_theme_color()
					
				TextInput:
					id: selected_year
					max_length: 4
					input_filter: 'int'
					height: self.minimum_height+dp(10)
					halign: 'left'
					hint_text: 'year'
					multiline: False
					size_hint: 0.3, None
					font_size: '18sp'
					on_text: root.on_year_enter(self.text)
					
				Label:
					size_hint: 0.2, None
				
			BoxLayout:
				size_hint: 1,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 0
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
				MDRaisedButton:
					text: '<'
					size_hint: 0.3, None
					font_size: '18sp' #22
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					on_release:
						root.previous_month()
				
				MDLabel:
					id: show_month_year
					canvas.before:
						Color:
							rgb: 255,255,255
						RoundedRectangle:
							pos: self.pos
							size: self.size
					text: root.see_month()
					size_hint_x: 0.4
					size_hint_y: None
					height: self.texture_size[1] +10
					font_size: '15sp'
					halign: 'center'
					color: app.return_theme_color()
					pos_hint: {'center_x': 0.15, 'center_y': 0.5}
					
				MDRaisedButton:
					text: '>'
					size_hint: 0.3, None
					font_size: '18sp' #22
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					on_release:
						root.next_month()
				
			GridLayout:
				id: days_grid_layout
				cols: 7
				size_hint: .95, None
				spacing: 1
				height: self.minimum_height
				cols_minimum: {0: 80,1: 80,2: 80,3: 80,4: 80,5: 80,6: 80}
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				canvas.before:
					Color:
						rgba: 1,1,1,1
					Rectangle:
						pos: self.pos
						size: self.size
					
			GridLayout:
				id: calendar_grid
				cols: 7
				cols_minimum: {0: 80,1: 80,2: 80,3: 80,4: 80,5: 80,6: 80}
				size_hint: .95,None
				height: self.minimum_height
				spacing: 1
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					Rectangle:
						pos: self.pos
						size: self.size
			
			Widget:
				
				
<DeleteAccount>:
	title: 'Confirm account deletion'
    size_hint: 1, 1
    auto_dismiss: True
    
    heading: heading
    delete_account: delete_account
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 30
			height: self.minimum_height
			size_hint: 1,1
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				id: heading
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					Rectangle:
						pos: self.pos
						size: self.size
				text: root.show_account()
				size_hint_x: 1
				size_hint_y: None
				bold: True
				height: self.texture_size[1] + dp(15)
				font_size: '18sp'
				halign: 'center'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			Button:
				id: delete_account
				text: 'delete the account'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(15)
				background_color: 255,0,0
				halign: 'center'
				font_size: '16sp'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': .5}
				on_press:
					#root.delete_permanently()
					root.undo_deletion_in_3_secs(self.text)
					
			Button:
				text: 'close and don`t delete'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(15)
				halign: 'center'
				font_size: '16sp'
				pos_hint: {'center_x': 0.5, 'center_y': .5}
				on_press: root.close_popup()
					
			MDLabel:
				canvas.before:
					Color:
						rgba: 255,255,255,0
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Beware that deleting an account also deletes all transactions associated with it.'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'left'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			Widget:
				
				
<CostOfAssets>:
	title: 'Cost of Assets'
    size_hint: 1, 1
    auto_dismiss: True
    
    error: error
    cost_amount: cost_amount
    account_name: account_name
    account_category_2: account_category_2
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 10
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
				
			Button:
				id: error
				text: 'All fields are required'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 255,0,0
				bold: True
				opacity: 1
				halign: 'center'
				font_size: '15sp'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': .5}
			
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
				
			MDLabel:
				canvas.before:
					Color:
						rgba: 0,0,255,0
					Rectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: 'Save Historical Cost of Assets'
				size_hint_x: .95
				size_hint_y: None
				underline: True
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'The Function below allow users to save the Value of assets at cost. The amounts are meant for users to remember their cost of assets and are not used in any calculations., However, the Historical costs of assets in balance sheet are calculated by adding their Net Book Value to Accumulated Depreciation\nThe accounts available for saving their value at cost are only "Non Current Assets"'
				size_hint_x: .95
				size_hint_y: None
				padding: [20,20]
				height: self.texture_size[1]
				font_size: '14sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
				
			BoxLayout:
				orientation: 'vertical'
		        spacing: 5
				height: self.minimum_height
				size_hint: .9, None
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					Rectangle:
						pos: self.pos
						size: self.size
					
				Spinner:
					id: account_category_2
					text: 'Account Category'
					size_hint_y: None
					height: self.texture_size[1] + dp(10)
					size_hint_x: .98
					background_color: 255,255,255
					color: app.return_theme_color()
					bold: True
					option_cls: 'CustomSpinnerOption'
					values : ['Account Category', 'Non Current Assets']
					font_size: '15sp'
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					on_text:
						root.load_current_saved_accounts(self.text,account_name)
						
				Spinner:
					id: account_name
					text: 'Choose Account'
					size_hint_y: None
					height: self.texture_size[1] + dp(10)
					size_hint_x: .98
					background_color: 255,255,255
					color: app.return_theme_color()
					bold: True
					option_cls: 'CustomSpinnerOption'
					font_size: '15sp'
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					on_text:
						root.on_text_if_account_in_assets_cost(account_category_2.text, self.text)
			
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
				
			BoxLayout:
				size_hint: 1,None
				height: self.minimum_height
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				spacing: 10
				
				TextInput:
					id: cost_amount
					hint_text: 'Asset at cost'
					helper_text: ''
					input_filter: 'float'
					helper_text_mode: 'persistent'
					halign: 'left'
					icon_left: 'key'
					multiline: False
					height: self.minimum_height + dp(15)
					size_hint: .5, None
					font_size: '15sp'
					on_text_validate:
						root.add_cost_amount(self.text, account_category_2.text, account_name.text)
					#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
				MDFillRoundFlatIconButton:
					icon: 'plus'
					text: 'Save Cost'
					size_hint: 0.5, None
					font_size: '15sp' #22
					#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					on_release:
						root.add_cost_amount(cost_amount.text, account_category_2.text, account_name.text)
						
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}					
						
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: '# SimploStats for you'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + 100
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
						
			Widget:
						
				
						
<ChangeAccountCategory>:
	title: 'Change Account Category'
    size_hint: 1, 1
    auto_dismiss: True
    
    heading: heading
    account_category: account_category
    error: error
    change_to: change_to
    
    ScrollView:
    	size: self.parent.size
    	do_scroll_x: True
    	
	    BoxLayout:
	        orientation: 'vertical'
	        spacing: 10
			height: self.minimum_height
			size_hint: 1,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
						
			Button:
				id: error
				text: 'All fields are required'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 255,0,0
				bold: True
				opacity: 1
				halign: 'center'
				font_size: '15sp'
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': .5}
						
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				canvas:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						points: self.x, self.y, self.x + self.width, self.y
						width: 2
				text: '\nShift Account between Categories'
				size_hint_x: .95
				size_hint_y: None
				underline: True
				height: self.texture_size[1]
				font_size: '17sp'
				halign: 'left'
				color: 'black'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
			MDLabel:
				id: heading
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					Rectangle:
						pos: self.pos
						size: self.size
				text: root.show_account()
				size_hint_x: 1
				size_hint_y: None
				bold: True
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'center'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: 'Please select the category you want to shift the account and press "change category"\n\nNote that accounts should only be shifted between categories that have same recording treatment (debit and credit), Shifting accounts between Categories with different treatment may generate incorrect financial records'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				padding: [20,20]
				font_size: '14sp'
				halign: 'left'
				color: app.return_icon_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
				
			Spinner:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					Line:
						rectangle: self.x, self.y, self.width, self.height
				id: account_category
				text: 'Account Category'
				size_hint_y: None
				height: self.texture_size[1] + 30
				size_hint_x: .9
				background_color: 0,0,0,.1
				color: app.return_theme_color()
				option_cls: 'CustomSpinnerOption'
				bold: True
				values : ['Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
				font_size: '16sp'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				on_text:
					root.update_change_button(self.text)
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
					
			MDRectangleFlatIconButton:
				id: change_to
				icon: 'arrow-right'
				text: 'change account to?'
				size_hint_x: .9
				size_hint_y: None
				md_bg_color: 255,255,255
				opacity: 1
				halign: 'left'
				font_size: '15sp'
				pos_hint: {'center_x': 0.5, 'center_y': .5}
				on_press:
					root.shift_account_to(account_category.text)
						
				Widget:
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'Warning: Never shift accounts from Non Current Assets Category. You will alter with accumulated depreciation and have incorrect financial records. Otherwise, consider deleting an account in Non Current Assets and then add it manually to the desired Catogory'
				size_hint_x: .95
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '14sp'
				halign: 'left'
				color: 'red'
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
					
			MDLabel:
				canvas.before:
					Color:
						rgb: 255,255,255
					Rectangle:
						pos: self.pos
						size: self.size
				text: '# SimploStats for you'
				size_hint_x: .98
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
			Button:
				text: 'accounting software'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(100)
				background_color: 0,0,0,0
				background_normal: ''
				bold: True
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
					
			Widget:
				
				
<CustomSpinnerOption@SpinnerOption>:
	background_color: 255,255,255
	color: app.return_theme_color()
	background_normal: ''
	font_size: '15sp'
	size_hint: 0.5, None
	canvas.before:
		Color:
			rgba: app.theme_cls.primary_color
		Line:
			width: 1
			rectangle: self.x, self.y, self.width, self.height
				
				
<HomeScreen>:
	name: 'home'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	business: business
	selected_file: selected_file
	view_status: view_status
	dashboard: dashboard
	#functions_layout: functions_layout
	#action_title: action_title
	bank: bank
	expenses: expenses
	net_profit: net_profit
	incomes: incomes
	date_and_time: date_and_time
	last_updated: last_updated
	image: image
	import_file: import_file
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
			
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: "SimploStats - Accounting"
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]
					
			ScrollView:
		    	id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 20
					height: self.minimum_height
					size_hint: 1, None
					id: dark_theme_box
					
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					BoxLayout:
				        orientation: 'horizontal'
				        spacing: 0
						height: self.minimum_height
						size_hint: 1, None
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
					
						Image:
							id: image
							source: root.show_user_picture()
							size_hint: None, None
							size: 250, 250
							#allow_stretch: True
							#keep_ratio: True
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							canvas.before:
								Color: #
									rgba: app.theme_cls.primary_color
								StencilPush
								Ellipse:
									pos: self.pos
									size: self.size
								StencilUse
							canvas.after:
								StencilUnUse
								Ellipse:
									pos: self.pos
									size: self.size
								StencilPop
								
						BoxLayout:
							orientation: 'vertical'
					        spacing: 5
							height: self.minimum_height
							width: root.get_screen_width() - 250
							size_hint: None, None
							
							BoxLayout:
						        orientation: 'vertical'
						        spacing: 10
								height: self.minimum_height
								size_hint: 1, None
									
								MDFlatButton:
									canvas:
										Color:
											rgba: app.theme_cls.primary_color
										Line:
											points: self.x, self.y + self.height, self.x + self.width, self.y + self.height
											width: 1
									id: business
									size_hint_x: 1
									size_hint_y: None
									theme_text_color: "Custom"
									md_bg_color: 255,255,255,0
									text_color: app.return_theme_color()
									halign: 'center'
									font_size: '16sp'
									pos_hint: {'center_x': 0.5, 'center_y': .5}
									on_press:
										root.go_to_edit_business()
									
								Button:
									text: ' '
									size_hint_x: 1
									size_hint_y: None
									height: self.texture_size[1]
									background_color: app.theme_cls.primary_color
									background_normal: ''
									bold: True
									opacity: 1
									halign: 'center'
									font_size: 20
									color: 'white'
									pos_hint: {'center_x': 0.5, 'center_y': .5}
							
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
						MDLabel:
							id: last_updated
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: ' '
							size_hint_x: .95
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '14sp'
							halign: 'left'
							color: 'black'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								
						MDLabel:
							id: date_and_time
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: ' '
							size_hint_x: .95
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '14sp'
							halign: 'left'
							color: 'black'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Access the following Accounting Functions'
						size_hint_x: 1
						padding: [10,10]
						size_hint_y: None
						height: self.texture_size[1]
						underline: True
						font_size: '16sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
						spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						
						BoxLayout:
							orientation: 'vertical'
							spacing: 5
							height: self.minimum_height
							size_hint: .33, None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								RoundedRectangle:
									pos: self.pos
									size: self.size
							
							MDIconButton:
								theme_text_color: "Custom"
								text_color: app.return_icon_color()
								icon: 'view-list'
								font_size: "15sp"
								pos_hint: {'center_x': .5, 'center_y': 0.5}
								on_press:
									root.go_to_charts_of_accounts()
									
							Spinner:
								text: 'Charts'
								size_hint_y: None
								height: self.texture_size[1] + dp(8)
								size_hint_x: 1
								background_color: 255,255,255,0
								color: app.return_icon_color()
								font_size: '15sp'
								option_cls: 'CustomSpinnerOption'
								pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								on_press:
									root.go_to_charts_of_accounts()
							
						BoxLayout:
							orientation: 'vertical'
							spacing: 5
							height: self.minimum_height
							size_hint: .33, None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								RoundedRectangle:
									pos: self.pos
									size: self.size
							
							MDIconButton:
								theme_text_color: "Custom"
								text_color: app.return_icon_color()
								icon: 'book'
								font_size: "15sp"
								pos_hint: {'center_x': .5, 'center_y': 0.5}
								on_press:
									root.main_journal_button_func()
									
							Spinner:
								text: 'Journals'
								size_hint_y: None
								height: self.texture_size[1] + dp(8)
								size_hint_x: 1
								background_color: 255,255,255,0
								color: app.return_icon_color()
								values : ['Quick\nJournal', 'Write\nCheques', 'Transfer\nfunds', 'Receive\nPayment', 'Make\nPayment', 'Sale\nListing', 'Journal\nEntries']
								font_size: '15sp'
								option_cls: 'CustomSpinnerOption'
								pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								on_text:
									root.open_the_selected_spinner(self.text)
									self.text = 'Journals'
							
						BoxLayout:
							orientation: 'vertical'
							spacing: 5
							height: self.minimum_height
							size_hint: .33, None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								RoundedRectangle:
									pos: self.pos
									size: self.size
							
							MDIconButton:
								theme_text_color: "Custom"
								text_color: app.return_icon_color()
								icon: 'chart-bar'
								font_size: "15sp"
								pos_hint: {'center_x': .5, 'center_y': 0.5}
								on_press:
									root.main_report_button_func()
									
							Spinner:
								text: 'Reports'
								size_hint_y: None
								height: self.texture_size[1] + dp(8)
								size_hint_x: 1
								background_color: 255,255,255,0
								color: app.return_icon_color()
								values : ['Income\nStament', 'Balance\nSheet', 'Trial\nBalance', 'Account\nRecords']
								font_size: '15sp'
								option_cls: 'CustomSpinnerOption'
								pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								on_text:
									root.open_the_selected_spinner(self.text)
									self.text = 'Reports'
									
					BoxLayout:
						orientation: 'horizontal'
						spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						
						BoxLayout:
							orientation: 'vertical'
							spacing: 5
							height: self.minimum_height
							size_hint: .33, None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								RoundedRectangle:
									pos: self.pos
									size: self.size
							
							MDIconButton:
								theme_text_color: "Custom"
								text_color: app.return_icon_color()
								icon: 'receipt'
								font_size: "15sp"
								pos_hint: {'center_x': .5, 'center_y': 0.5}
								on_press:
									root.main_bill_button_func()
									
							Spinner:
								text: 'Billing'
								size_hint_y: None
								height: self.texture_size[1] + dp(8)
								size_hint_x: 1
								background_color: 255,255,255,0
								color: app.return_icon_color()
								values : ['Enter\nBill', 'Make\nPayment']
								font_size: '15sp'
								option_cls: 'CustomSpinnerOption'
								pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								on_text:
									root.open_the_selected_spinner(self.text)
									self.text = 'Billing'
							
						BoxLayout:
							orientation: 'vertical'
							spacing: 5
							height: self.minimum_height
							size_hint: .33, None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								RoundedRectangle:
									pos: self.pos
									size: self.size
							
							MDIconButton:
								theme_text_color: "Custom"
								text_color: app.return_icon_color()
								icon: 'star'
								font_size: "15sp"
								pos_hint: {'center_x': .5, 'center_y': 0.5}
								on_press:
									root.main_special_button_func()
									
							Spinner:
								text: 'Specials'
								size_hint_y: None
								height: self.texture_size[1] + dp(8)
								size_hint_x: 1
								background_color: 255,255,255,0
								color: app.return_icon_color()
								values : ['Opening\nBalance', 'Pay\nTaxes', 'Normal\nDepreciation', 'Accumulated\nDepreciation']
								font_size: '15sp'
								option_cls: 'CustomSpinnerOption'
								pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								on_text:
									root.open_the_selected_spinner(self.text)
									self.text = 'Specials'
							
						BoxLayout:
							orientation: 'vertical'
							spacing: 5
							height: self.minimum_height
							size_hint: .33, None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								RoundedRectangle:
									pos: self.pos
									size: self.size
							
							MDIconButton:
								theme_text_color: "Custom"
								text_color: app.return_icon_color()
								icon: 'finance'
								font_size: "15sp"
								pos_hint: {'center_x': .5, 'center_y': 0.5}
								on_press:
									root.main_analysis_button_func()
									
							Spinner:
								text: 'Analysis'
								size_hint_y: None
								height: self.texture_size[1] + dp(8)
								size_hint_x: 1
								background_color: 255,255,255,0
								color: app.return_icon_color()
								values : ['Budget\nAnalysis', 'Financial\nAnalysis', 'Balances\nAnalysis', 'Operations\nAnalysis']
								font_size: '15sp'
								option_cls: 'CustomSpinnerOption'
								pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								on_text:
									root.open_the_selected_spinner(self.text)
									self.text = 'Analysis'
									
					BoxLayout:
						orientation: 'horizontal'
						spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						
						BoxLayout:
							orientation: 'vertical'
							spacing: 5
							height: self.minimum_height
							size_hint: .5, None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								RoundedRectangle:
									pos: self.pos
									size: self.size
							
							MDIconButton:
								theme_text_color: "Custom"
								text_color: app.return_icon_color()
								icon: 'account-group'
								font_size: "15sp"
								pos_hint: {'center_x': .5, 'center_y': 0.5}
								on_press:
									root.main_sale_button_func()
									
							Spinner:
								text: 'Customers'
								size_hint_y: None
								height: self.texture_size[1] + dp(8)
								size_hint_x: 1
								background_color: 255,255,255,0
								color: app.return_icon_color()
								values : ['Sale\nJournal', 'Receive\nPayment', 'Sale\nListing']
								font_size: '15sp'
								option_cls: 'CustomSpinnerOption'
								pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								on_text:
									root.open_the_selected_spinner(self.text)
									self.text = 'Customers'
							
						BoxLayout:
							orientation: 'vertical'
							spacing: 5
							height: self.minimum_height
							size_hint: .5, None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								RoundedRectangle:
									pos: self.pos
									size: self.size
							
							MDIconButton:
								theme_text_color: "Custom"
								text_color: app.return_icon_color()
								icon: 'account-multiple'
								font_size: "15sp"
								pos_hint: {'center_x': .5, 'center_y': 0.5}
								on_press:
									root.main_purchase_button_func()
									
							Spinner:
								text: 'Suppliers'
								size_hint_y: None
								height: self.texture_size[1] + dp(8)
								size_hint_x: 1
								background_color: 255,255,255,0
								color: app.return_icon_color()
								values : ['Purchase\nJournal', 'Make\nPayment']
								font_size: '15sp'
								option_cls: 'CustomSpinnerOption'
								pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								on_text:
									root.open_the_selected_spinner(self.text)
									self.text = 'Suppliers'
							
					MDLabel:
						id: selected_file
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'imported file will show here'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						underline: True
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: view_status
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: ' '
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '16sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: 'DashBoard'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '16sp'
						padding: [20, 10]
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
				        orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						
						MDRectangleFlatIconButton:
							id: expenses
							icon: 'receipt'
							md_bg_color: 255,255,255
							text: ''
							size_hint: .5, None
							halign: 'left'
							font_size: '14sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_release:
								root.view_expenses_incomes_and_np()
								
						MDRectangleFlatIconButton:
							id: incomes
							icon: 'trending-up'
							md_bg_color: 255,255,255
							text: ''
							size_hint: .5, None
							halign: 'left'
							font_size: '14sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_release:
								root.view_expenses_incomes_and_np()
								
					BoxLayout:
				        orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
								
						MDRectangleFlatIconButton:
							id: net_profit
							icon: 'trending-up'
							md_bg_color: 255,255,255
							text: ''
							size_hint: .5, None
							halign: 'left'
							font_size: '14sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_release:
								root.view_expenses_incomes_and_np()
									
						MDRectangleFlatIconButton:
							id: bank
							icon: 'account-box'
							md_bg_color: 255,255,255
							text: ''
							size_hint: .5, None
							halign: 'left'
							font_size: '14sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_release:
								root.view_bank_and_assets_bal()
								
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						size_hint: .9, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
						MDLabel:
							id: dashboard
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: ''
							color:  app.return_theme_color()
							size_hint_x: .98
							padding: [10, 20]
							height: self.texture_size[1] + dp(20)
							size_hint_y: None
							font_size: '15sp'
							halign: 'left'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: root.show_copy_write()
						size_hint_x: .9
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_icon_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(100)
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
							
					Widget:
				
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.7}
		on_press:
			scroll_view.scroll_y = 1
			
	MDFloatingActionButton:
		icon: 'arrow-down-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.3}
		on_press:
			scroll_view.scroll_y = 0
			
	
	# botton nav		
	BoxLayout:
		orientation: 'horizontal'
		spacing: 5
		height: self.minimum_height
		size_hint: 1, None
		canvas.before:
			Color:
				rgba: app.theme_cls.primary_color
			Rectangle:
				pos: self.pos
				size: self.size
				
		BoxLayout:
			orientation: 'vertical'
			spacing: 5
			height: self.minimum_height
			size_hint: .2, None
					
			MDIconButton:
				theme_text_color: "Custom"
				text_color: app.return_icon_color()
				icon: 'view-list'
				pos_hint: {'center_x': .5, 'center_y': 0.5}
				on_press:
					root.go_to_charts_of_accounts()
					
		BoxLayout:
			orientation: 'vertical'
			spacing: 5
			height: self.minimum_height
			size_hint: .2, None
					
			MDIconButton:
				theme_text_color: "Custom"
				text_color: app.return_icon_color()
				icon: 'eye'
				pos_hint: {'center_x': .5, 'center_y': 0.5}
				on_press:
					root.go_to_accounts_viewing()
					
		BoxLayout:
			orientation: 'vertical'
			spacing: 5
			height: self.minimum_height
			size_hint: .2, None
					
			MDIconButton:
				icon: 'plus'
				theme_text_color: "Custom"
				text_color: app.return_icon_color()
				pos_hint: {'center_x': .5, 'center_y': 0.5}
				on_press:
					root.go_to_journal_entries()
					
		BoxLayout:
			orientation: 'vertical'
			spacing: 5
			height: self.minimum_height
			size_hint: .2, None
					
			MDIconButton:
				theme_text_color: "Custom"
				text_color: app.return_icon_color()
				icon: 'sync'
				pos_hint: {'center_x': .5, 'center_y': 0.5}
				on_press:
					root.go_to_operation_analysis()
					
		BoxLayout:
			orientation: 'vertical'
			spacing: 5
			height: self.minimum_height
			size_hint: .2, None
					
			MDIconButton:
				theme_text_color: "Custom"
				text_color: app.return_icon_color()
				icon: 'account'
				pos_hint: {'center_x': .5, 'center_y': 0.5}
				on_press:
					root.go_to_edit_business()
					
	MDNavigationDrawer:
		#opening_transition: 'out_bounce'
		opening_time: 0.2
		#closing_transition: 'in_out_elastic'
		closing_time: 0.2
		id: nav_drawer
		
		ScrollView:
			canvas.before:
				Color:
					rgba: app.theme_cls.primary_color
				Rectangle:
					pos: self.pos
					size: self.size
			size_hint: 1,1
			do_scroll_x: False
			do_scroll_y: True
		
			BoxLayout:
				orientation: 'vertical'
				spacing: 5
				height: self.minimum_height
				size_hint: 1,1
				
				BoxLayout:
					orientation: 'horizontal'
					spacing: 5
					height: self.minimum_height
					size_hint: 1,None
				
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						icon: 'arrow-left'
						font_size: "15sp"
						size_hint: None,None
						on_press:
							nav_drawer.set_state("close")
							
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Simplo Functions'
						size_hint_x: 1
						size_hint_y: None
						bold: True
						height: self.texture_size[1]
						font_size: '16sp'
						halign: 'left'
						color: app.return_icon_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
				Button:
					text: 'accounting software'
					size_hint_x: 1
					size_hint_y: None
					height: self.texture_size[1]
					background_color: 0,0,0,0
					background_normal: ''
					bold: True
					opacity: 0
					halign: 'center'
					font_size: 20
					color: 'white'
					pos_hint: {'center_x': 0.5, 'center_y': 5}
						
				MDLabel:
					canvas.before:
						Color:
							rgba: 255,255,255,0
						RoundedRectangle:
							pos: self.pos
							size: self.size
					text: 'Profile'
					size_hint_x: .95
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '16sp'
					halign: 'left'
					color: app.return_icon_color()
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
				BoxLayout:
					orientation: 'horizontal'
					spacing: 5
					height: self.minimum_height
					size_hint: 1,None
					
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						icon: 'pencil'
						font_size: "15sp"
						size_hint: None,None
						on_press:
					
					MDFlatButton:
						text: 'Business Profile'
						size_hint: 1, None
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.go_to_edit_business()
							
				BoxLayout:
					orientation: 'horizontal'
					spacing: 5
					height: self.minimum_height
					size_hint: 1,None
					
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						icon: 'weather-night'
						font_size: "15sp"
						size_hint: None,None
						on_press:
					
					MDFlatButton:
						id: set_dark_mode
						text: root.return_the_dark_mode()
						size_hint: 1, None
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.set_dark_mode(self.text)
							
				Button:
					text: 'accounting software'
					size_hint_x: 1
					size_hint_y: None
					height: self.texture_size[1]
					background_color: 0,0,0,0
					background_normal: ''
					bold: True
					opacity: 0
					halign: 'center'
					font_size: 20
					color: 'white'
					pos_hint: {'center_x': 0.5, 'center_y': 5}
							
				MDLabel:
					canvas.before:
						Color:
							rgba: 255,255,255,0
						RoundedRectangle:
							pos: self.pos
							size: self.size
					text: 'Files'
					size_hint_x: .95
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '16sp'
					halign: 'left'
					color: app.return_icon_color()
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
				BoxLayout:
					orientation: 'horizontal'
					spacing: 5
					height: self.minimum_height
					size_hint: 1,None
					
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						icon: 'folder'
						font_size: "15sp"
						size_hint: None,None
						on_press:
					
					MDFlatButton:
						text: 'Files and Password'
						size_hint: 1, None
						text_color: app.return_icon_color()
						theme_text_color: "Custom"
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.set_password()
							
				BoxLayout:
					orientation: 'horizontal'
					spacing: 5
					height: self.minimum_height
					size_hint: 1,None
					
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						icon: 'cloud-upload'
						font_size: "15sp"
						size_hint: None,None
						on_press:
					
					MDFlatButton:
						text: 'Local File Backup'
						size_hint: 1, None
						text_color: app.return_icon_color()
						theme_text_color: "Custom"
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.backup_data()
							
				BoxLayout:
					orientation: 'horizontal'
					spacing: 5
					height: self.minimum_height
					size_hint: 1,None
					
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						icon: 'file-import'
						font_size: "15sp"
						size_hint: None,None
						on_press:
					
					MDFlatButton:
						text: 'Import file'
						id: import_file
						size_hint: 1, None
						text_color: app.return_icon_color()
						theme_text_color: "Custom"
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.show_file_manager(self)
							
				Button:
					text: 'accounting software'
					size_hint_x: 1
					size_hint_y: None
					height: self.texture_size[1]
					background_color: 0,0,0,0
					background_normal: ''
					bold: True
					opacity: 0
					halign: 'center'
					font_size: 20
					color: 'white'
					pos_hint: {'center_x': 0.5, 'center_y': 5}
							
				MDLabel:
					canvas.before:
						Color:
							rgba: 255,255,255,0
						RoundedRectangle:
							pos: self.pos
							size: self.size
					text: 'Help and Support'
					size_hint_x: .95
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '16sp'
					halign: 'left'
					color: app.return_icon_color()
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
				BoxLayout:
					orientation: 'horizontal'
					spacing: 5
					height: self.minimum_height
					size_hint: 1,None
					
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						icon: 'heart-outline'
						font_size: "15sp"
						size_hint: None,None
						on_press:
					
					MDFlatButton:
						text: 'Donate'
						size_hint: 1, None
						text_color: app.return_icon_color()
						theme_text_color: "Custom"
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.donate_to_us()
							
				BoxLayout:
					orientation: 'horizontal'
					spacing: 5
					height: self.minimum_height
					size_hint: 1,None
					
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						icon: 'help-circle'
						font_size: "15sp"
						size_hint: None,None
						on_press:
					
					MDFlatButton:
						text: 'Help and Support'
						size_hint: 1, None
						text_color: app.return_icon_color()
						theme_text_color: "Custom"
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.go_to_help()
							
				BoxLayout:
					orientation: 'horizontal'
					spacing: 5
					height: self.minimum_height
					size_hint: 1,None
					
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_icon_color()
						icon: 'information'
						font_size: "15sp"
						size_hint: None,None
						on_press:
					
					MDFlatButton:
						text: 'About us'
						size_hint: 1, None
						text_color: app.return_icon_color()
						theme_text_color: "Custom"
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.open_about_popup()
							
				Widget:

												
		
<ChartsOfAccounts>:
	name: 'charts_of_accounts'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	account_category: account_category
	account_name: account_name
	account_to_add: account_to_add
	error: error
	status: status
	list_of_accounts_layout: list_of_accounts_layout
	top_selection_display: top_selection_display
	about_list_of_account: about_list_of_account
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'vertical'
				spacing: 0
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'Chart of Accounts'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
					right_action_items: [["help-circle", lambda x: root.get_help()]]
					
				MDLabel:
					id: top_selection_display
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: ' '
					size_hint_x: 1
					size_hint_y: None
					bold: True
					height: self.texture_size[1]
					padding: [10,10]
					font_size: '15sp'
					halign: 'center'
					color: app.return_theme_color()
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
			ScrollView:
		    	id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 10
					height: self.minimum_height
					size_hint: 1, None
					id: dark_theme_box
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'This panel allow creating and deleting ledger accounts in which transactions are recorded:'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: "15sp"
						halign: 'left'
						color: app.return_theme_color()
						padding: [5,5]
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Add and Group your ledger accounts according to where they fit by pressing:\n "Account Category Button"'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: "15sp"
						halign: 'left'
						padding: [5,5]
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Adding new Accounts'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						size_hint: .9, None
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						Spinner:
							id: account_category
							text: 'Account Category'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							bold: True
							values : ['Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							option_cls: 'CustomSpinnerOption'
							on_text:
								root.load_current_saved_accounts(self.text)
									
						MDLabel:
							id: account_name
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'Account'
							size_hint_x: .98
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + dp(10)
							font_size: '15sp'
							halign: 'center'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					TextInput:
						id: account_to_add
						hint_text: 'Type the account name here and save'
						helper_text: ''
						helper_text_mode: 'persistent'
						halign: 'left'
						icon_left: 'key'
						multiline: False
						height: self.minimum_height + dp(15)
						size_hint: .7, None
						font_size: '15sp'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						on_text:
							root.on_text_account(self)
						on_text_validate:
							root.add_accounts_to_major_categories_button(self.text)
						
					MDFillRoundFlatIconButton:
						icon: 'plus'
						text: 'Save Account'
						size_hint: 0.5, None
						font_size: '15sp'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						on_release:
							root.add_accounts_to_major_categories_button(account_to_add.text)
							
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					BoxLayout:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						orientation: 'vertical'
						spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
						BoxLayout:
							orientation: 'horizontal'
					        spacing: 5
							height: self.minimum_height
							size_hint: .98, None
							pos_hint: {'center_x': 0.5, 'center_y': 5}
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
									
							MDRectangleFlatIconButton:
								icon: 'eye'
								text: 'view records'
								size_hint_x: .5
								size_hint_y: None
								opacity: 1
								halign: 'center'
								font_size: '15sp'
								pos_hint: {'center_x': 0.5, 'center_y': .5}
								on_press:
									root.on_press_account_button(account_category.text, account_name.text)
									
							MDRectangleFlatIconButton:
								icon: 'currency-usd'
								text: 'Cost of Assets'
								size_hint_x: .5
								size_hint_y: None
								opacity: 1
								halign: 'center'
								font_size: '15sp'
								pos_hint: {'center_x': 0.5, 'center_y': .5}
								on_press:
									root.cost_of_assets()
							
						BoxLayout:
							orientation: 'horizontal'
					        spacing: 5
							height: self.minimum_height
							size_hint: .98, None
							pos_hint: {'center_x': 0.5, 'center_y': 5}
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
								
							MDRectangleFlatIconButton:
								icon: 'delete'
								text_color: 'red'
								md_bg_color: 255,255,255
								text: 'delete account'
								size_hint_x: .5
								size_hint_y: None
								opacity: 1
								halign: 'center'
								font_size: '15sp'
								on_release:
									root.confirm_deletion()
									
							MDRectangleFlatIconButton:
								icon: 'swap-horizontal'
								text: 'shift account'
								size_hint_x: .5
								size_hint_y: None
								opacity: 1
								halign: 'center'
								font_size: '15sp'
								on_release:
									root.shift_account()
								
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: .95, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							Color:
								rgb: 255,255,255
							RoundedRectangle:
								pos: self.pos
								size: self.size
								
						MDFlatButton:
							canvas:
								Color:
									rgba: app.theme_cls.primary_color
								Line:
									points: self.x, self.y, self.x + self.width, self.y
									width: 2
							id: about_list_of_account
							text: 'List of Accounts'
							size_hint: 1, None
							md_bg_color: 255,255,255,0
							theme_text_color: "Custom"
							text_color: app.return_theme_color()
							font_size: "15sp"
							halign: 'left'
							on_press:
								root.about_categories()						
				
					BoxLayout:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						orientation: 'vertical'
						spacing: 0
						height: self.minimum_height
						size_hint: 1, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
						BoxLayout:
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
							id: list_of_accounts_layout
							orientation: 'vertical'
							spacing: 0
							height: self.minimum_height
							size_hint: .98, None
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(100)
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
				
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			scroll_view.scroll_y = 1
			
			
<MakeJournalEntries>:
	name: 'Journal_entries'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	status: status
	account_name: account_name
	account_category: account_category
	transaction_amount: transaction_amount
	memo: memo
	debit_account: debit_account
	credit_account: credit_account
	side: side
	error: error
	transaction_date: transaction_date
	trans_id: trans_id
	check_debit: check_debit
	check_credit: check_credit
	search_id: search_id
	is_accum_deprec: is_accum_deprec
	delete_button: delete_button
	edit_button: edit_button
	save_button: save_button
	search_category: search_category
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
						
			MDTopAppBar:
				title: 'Make Journal Entries'
				pos_hint: {'top': 1}
				#md_bg_color: 0,0,255
				opacity: 1
				size_hint_y: None
				elevation: 0
				left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
				right_action_items: [["help-circle", lambda x: root.get_help()]]
					
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
				
				BoxLayout:
					orientation: 'vertical'
					spacing: 0
					height: self.minimum_height
					size_hint: .5, None
						
					MDTextField:
						id: search_id
						height: self.minimum_height + dp(8)
						hint_text: 'search transaction'
						halign: 'left'
						input_filter: 'int'
						multiline: False
						size_hint: 0.9, None
						font_size: '15sp'
						pos_hint: {'center_x': 0.5, 'center_y': .5}
						on_text_validate:
							root.check_if_id_was_entered(self.text, search_category.text)
								
				Spinner:
					id: search_category
					text: 'Entire Books'
					size_hint_y: None
					height: self.texture_size[1] + dp(8)
					size_hint_x: .5
					background_color: 255,255,255,0
					color: app.return_theme_color()
					bold: True
					option_cls: 'CustomSpinnerOption'
					values : ['Entire Books', 'Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
					font_size: '15sp'
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					on_text:
					
			ScrollView:
		    	id: scroll_view
		    	canvas.before:
					Color:
						rgba: 255,255,255,0
					Rectangle:
						pos: self.pos
						size: self.size
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    			
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 10
					height: self.minimum_height
					size_hint: 1, None
					id: dark_theme_box
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Recording a Transaction'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
								
						MDRectangleFlatIconButton:
							icon: 'calendar'
							text: 'Select date *'
							size_hint_x: 0.4
							font_size: '15sp'
							bold: True
							pos_hint: {'center_x': 0.2, 'center_y': 0.5}
							on_release:
								root.select_date(transaction_date)
								
						MDLabel:
							id: transaction_date
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: root.show_date()
							size_hint_x: .6
							bold: True
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'left'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.7, 'center_y': 0.5}
							
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
								
						MDLabel:
							canvas.before:
								Color:
									rgba: 0,0,0,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Transaction ID:   '
							size_hint_x: .4
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + dp(10)
							font_size: '15sp'
							halign: 'right'
							color: 'black'
							pos_hint: {'center_x': 0.2, 'center_y': 0.5}			
								
						MDLabel:
							id: trans_id
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							#text: root.show_transaction_id()
							size_hint_x: .6
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + dp(10)
							font_size: '15sp'
							halign: 'left'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
					Spinner:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								rectangle: self.x, self.y, self.width, self.height
						id: is_accum_deprec
						text: 'journal entry'
						size_hint_y: None
						height: self.texture_size[1] + dp(10)
						size_hint_x: .6
						background_color: 255,255,255,0
						color: app.return_theme_color()
						option_cls: 'CustomSpinnerOption'
						disabled_color: 'red'
						values : ['journal entry', 'accum depreciation']
						font_size: '15sp'
						pos_hint: {'center_x': 0.7, 'center_y': 0.5}
						on_text:
							root.upate_to_accum_depreciation(self)		
							
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 0
						height: self.minimum_height
						size_hint: 1, None
						
						MDLabel:
							canvas.before:
								Color:
									rgba: 0,0,0,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Amount  '
							size_hint_x: .4
							height: self.texture_size[1] + dp(5)
							bold: True
							size_hint_y: None
							#height: self.texture_size[1] + 20
							font_size: '15sp'
							halign: 'right'
							color: app.return_theme_color()
							
						TextInput:
							id: transaction_amount
							height: self.minimum_height + dp(10)
							hint_text: 'transaction amount'
							halign: 'left'
							input_filter: 'float'
							multiline: False
							size_hint: 0.6, None
							font_size: '15sp'
							on_text_validate:
								memo.focus = True	
							
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 0
						height: self.minimum_height
						size_hint: 1, None
						
						MDLabel:
							canvas.before:
								Color:
									rgba: 0,0,0,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Memo  '
							size_hint_x: .2
							height: self.texture_size[1] + dp(5)
							bold: True
							size_hint_y: None
							#height: self.texture_size[1] + 20
							font_size: '15sp'
							halign: 'right'
							color: 'black'
							
						TextInput:
							id: memo
							halign: 'left'
							hint_text:'details about transaction'
							multiline: False
							size_hint: 0.7, None
							font_size: '15sp'
							height: self.minimum_height + dp(10)
							on_text:
								root.on_text_account(self)
						
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						size_hint: .9, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						Spinner:
							id: account_category
							text: 'Account Category'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							disabled_color: 'red'
							bold: True
							values : ['Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
							option_cls: 'CustomSpinnerOption'
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								root.account_to_record(self.text, side.text)
								
						Spinner:
							id: account_name
							text: 'Choose Account'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							disabled_color: 'red'
							bold: True
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							option_cls: 'CustomSpinnerOption'
							on_text:
								root.update_sub_account_to_add(side.text, self.text, account_category.text)
							
					Button:
						text: 'press to select "debit" or "credit" side'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 255,255,255,0
						background_normal: ''
						opacity: 1
						halign: 'center'
						font_size: '15sp'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 5}
							
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 0
						height: self.minimum_height
						size_hint: 1, None
						
						Button:
							text: 'Record Debit side'
							size_hint_x: .5
							bold: True
							size_hint_y: None
							background_color: app.theme_cls.primary_color
							background_normal: ''
							height: self.texture_size[1]+ dp(10)
							font_size: '15sp'
							halign: 'center'
							color: app.return_icon_color()
							on_press:
								side.text = 'debit'; debit_account.color = 'purple'; debit_account.font_size = '20sp'; credit_account.color = 'green'; credit_account.font_size = '18sp'; check_debit.active = True
								
						Button:
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								Line:
									rectangle: self.x, self.y, self.width, self.height
							text: 'Record Credit side'
							size_hint_x: .5
							bold: True
							size_hint_y: None
							background_color: 255,255,255,0
							background_normal: ''
							height: self.texture_size[1]+ dp(10)
							font_size: '15sp'
							halign: 'center'
							color: app.return_theme_color()
							on_press:
								side.text = 'credit'; debit_account.color = 'green'; debit_account.font_size = '18sp'; credit_account.color = 'purple'; credit_account.font_size = '20sp'; check_credit.active = True
								
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 0
						height: self.minimum_height
						size_hint: 1, None
							
						CheckBox:
							id: check_debit
							size_hint: .25, None
							height: dp(30)
							#background_color: 'white'
							group: 'side'
							#size: dp(70), dp(30)
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_press:
								side.text = 'debit'; debit_account.color = 'purple'; debit_account.font_size = '20sp'; credit_account.color = 'green'; credit_account.font_size = '18sp'
							
						MDFlatButton:
							id: side
							text: 'None'
							size_hint_x: .5
							theme_text_color: "Custom"
							background_color: 255,255,255
							text_color: 'black'
							size_hint_y: None
							font_size: '20sp'
							halign: 'center'
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
										
						CheckBox:
							id: check_credit
							size_hint: .25, None
							height: dp(30)
							#size: dp(70), dp(30)
							#height: '48sp'
							group: 'side'
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_press:
								side.text = 'credit'; debit_account.color = 'green'; debit_account.font_size = '18sp'; credit_account.color = 'purple'; credit_account.font_size = '20sp'
							
					MDLabel:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Debit:'
						size_hint_x: .98
						size_hint_y: None
						bold: True
						height: self.texture_size[1] + dp(10)
						font_size: '17sp'
						halign: 'left'
						color: app.return_icon_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						
						MDLabel:
							id: debit_account
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'Account'
							size_hint_x: .98
							bold: True
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '18sp'
							halign: 'center'
							color: 'green'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'purple'
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
							
					MDLabel:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Credit:'
						size_hint_x: .98
						size_hint_y: None
						bold: True
						height: self.texture_size[1] + dp(10)
						font_size: '17sp'
						halign: 'left'
						color: app.return_icon_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						
						MDLabel:
							id : credit_account
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'Account'
							size_hint_x: .98
							bold: True
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '18sp'
							halign: 'center'
							color: 'green'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
					Button:
						text: '\nsave, edit or delete accounting entry'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 255,255,255,0
						opacity: 1
						halign: 'center'
						font_size: '15sp'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						
						MDRectangleFlatIconButton:
							icon: 'plus'
							id: save_button
							size_hint: .5,None
							text: 'Save Entry'
							#size_hint_x: 0.25
							font_size: '15sp'
							#pos_hint: {'center_x': 0.2, 'center_y': 0.5}
							on_release:
								root.check_if_depreciation_credited(transaction_date.text, debit_account.text, credit_account.text,transaction_amount.text, memo.text)
						
						MDRectangleFlatIconButton:
							icon: 'pencil'
							id: edit_button
							size_hint: .5,None
							text: 'Edit Entry'
							#size_hint_x: 0.25
							font_size: '15sp'
							#pos_hint: {'center_x': 0.2, 'center_y': 0.5}
							on_release:
								root.on_delete_confirm_popup(transaction_date.text, debit_account.text, credit_account.text, transaction_amount.text, memo.text, trans_id.text, account_category.text, account_name.text, 'edit')
								
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: .5, None
						pos_hint: {'center_x': 0.75, 'center_y': .5}
								
						MDRectangleFlatIconButton:
							icon: 'delete'
							text_color: 'red'
							md_bg_color: 255,0,0,0
							id: delete_button
							size_hint: 1,None
							text: 'Delete Entry'
							#size_hint_x: 0.25
							font_size: '15sp'
							#pos_hint: {'center_x': 0.2, 'center_y': 0.5}
							# check_if_bal_bd
							on_release:
								root.on_delete_confirm_popup(transaction_date.text, debit_account.text, credit_account.text, transaction_amount.text, memo.text, trans_id.text, account_category.text, account_name.text, 'delete')
								#root.on_press_delete_transaction_popup(account_category.text, account_name.text, trans_id.text)
								
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
					
					Widget:
						
					Button:
						text: 'ADD MORE LEDGER ACCOUNTS'
						size_hint: .8, None
						height: self.texture_size[1] + 20
						background_color: 255,255,255,0
						background_normal: ''
						color: app.return_theme_color()
						font_size: '15sp'
						pos_hint: {'center_x': 0.5, 'center_y': .5}
						on_release:
							app.root.current = 'charts_of_accounts'
							
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						size_hint: .9, None
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
						Button:
							text: 'HOME PAGE'
							size_hint: .95, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							background_normal: ''
							font_size: '15sp'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.5, 'center_y': .5}
							on_release:
								app.root.current = 'home'
								
						Button:
							text: 'ACCOUNTS RECORDS'
							size_hint: .95, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							background_normal: ''
							pos_hint: {'center_x': 0.5, 'center_y': .5}
							color: app.return_theme_color()
							font_size: '15sp'
							halign: 'center'
							on_release:
								app.root.current = 'view_accounts'
							
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'Accounting transactions normaly affect two accounts on Debit and Credit side:'
						size_hint_x: .98
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						padding: [5,5]
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Users are supposed to record a transaction on Debit and Credit side in the Fields above\nSelect the Account Category and associated Account and then continue with the entry'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						padding: [5,5]
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(100)
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
				
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			scroll_view.scroll_y = 1
															
																	
<SaleListing>:
	name: 'invoicing'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	status: status
	account_name: account_name
	account_category: account_category
	sales_account_name: sales_account_name
	sales_account_category: sales_account_category
	error: error
	invoice_date: invoice_date
	invoice_id: invoice_id
	cash_or_credit: cash_or_credit
	particuars: particuars
	amount: amount
	invoice_list: invoice_list
	total_amount: total_amount
	list_of_invoices: list_of_invoices
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'Sale Listing'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
					
			ScrollView:
		    	id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 5
					height: self.minimum_height
					size_hint: 1, None
					
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'The panel enable users to create and save a list of items to a sale. The App will guide you on how to create a list'
						size_hint_x: 1
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Creating a list of sale'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
						spacing: 0
						height: self.minimum_height
						size_hint: 1, None
								
						MDRectangleFlatIconButton:
							icon: 'delete'
							text_color: 'red'
							md_bg_color: 255,255,255,0
							text: 'Delete List from journal'
							size_hint: 1, None
							font_size: '15sp'
							on_release:
								root.on_delete_confirm_popup()
								#root.delete_the_invoice(account_category.text, account_name.text, invoice_id.text)
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'What type of sale are you making? Select if Cash or Credit Sale'
						size_hint_x: .98
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '14sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: .9, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							Color:
								rgb: 255,255,255
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						Spinner:
							id: cash_or_credit
							text: 'cash or credit sale'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .5
							background_color: 0,0,255,.1
							color: app.return_theme_color()
							option_cls: 'CustomSpinnerOption'
							bold: True
							values : ['None', 'Cash Sale', 'Credit Sale']
							font_size: '15sp'
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								root.cash_or_credit_sale_on_text(self.text)
								
						Spinner:
							id: list_of_invoices
							text: 'list of sales id'
							size_hint_y: None
							option_cls: 'CustomSpinnerOption'
							height: self.texture_size[1] + dp(15)
							size_hint_x: .5
							background_color: 0,0,255,0
							color: app.return_theme_color()
							bold: True
							font_size: '15sp'
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								root.view_an_invoice(self.text)
								
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'From which account in "Sales Revenue" is the sale to be recorded'
						size_hint_x: .98
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '14sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						size_hint: .9, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						Spinner:
							id: sales_account_category
							text: 'Account Category'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							bold: True
							option_cls: 'CustomSpinnerOption'
							disabled_color: 'white'
							values: ['Account Category', 'Operating Revenue']
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								root.update_lists_of_account_sales_account(self.text)
								
						Spinner:
							id: sales_account_name
							text: 'Choose Account'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							bold: True
							option_cls: 'CustomSpinnerOption'
							disabled_color: 'white'
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
								
						MDRectangleFlatIconButton:
							icon: 'calendar'
							text: 'Select date *'
							size_hint_x: 0.5
							font_size: '15sp'
							bold: True
							pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_release:
								root.select_date(invoice_date)
								
						MDLabel:
							id: invoice_date
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: root.show_date()
							size_hint_x: .5
							bold: True
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'left'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.75, 'center_y': 0.5}
							
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
								
						MDLabel:
							canvas.before:
								Color:
									rgba: 0,0,0,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Sale list ID: '
							size_hint_x: .5
							bold: True
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: 'black'
							pos_hint: {'center_x': 0.25, 'center_y': 0.5}			
								
						MDLabel:
							id: invoice_id
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							size_hint_x: .5
							bold: True
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'left'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.75, 'center_y': 0.5}
							
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Select the bank account of debtor you are making a sale to'
						size_hint_x: .98
						size_hint_y: None
						padding: [5,5]
						height: self.texture_size[1]
						font_size: '14sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						size_hint: .9, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						Spinner:
							id: account_category
							text: 'Account Category'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							bold: True
							option_cls: 'CustomSpinnerOption'
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							disabled_color: 'white'
							on_text:
								root.update_lists_of_account(self.text)
								
						Spinner:
							id: account_name
							text: 'Choose Account'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							option_cls: 'CustomSpinnerOption'
							disabled_color: 'white'
							bold: True
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
				
					BoxLayout:
						orientation: 'vertical'
						spacing: 0
						height: self.minimum_height
						size_hint: .98, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						BoxLayout:
							orientation: 'vertical'
							spacing: 0
							height: self.minimum_height
							size_hint: .98, None
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
								
							BoxLayout:
								orientation: 'horizontal'
								spacing: 0
								height: self.minimum_height
								size_hint: 1, None
									
								MDLabel:
									canvas.before:
										Color:
											rgba: 0,0,255,0
										Rectangle:
											pos: self.pos
											size: self.size
									text: 'Particulars'
									size_hint_x: .5
									size_hint_y: None
									underline: True
									height: self.texture_size[1]
									font_size: '15sp'
									halign: 'center'
									color: app.return_theme_color()
										
								MDLabel:
									canvas.before:
										Color:
											rgba: 0,0,255,0
										Rectangle:
											pos: self.pos
											size: self.size
									text: 'Amount'
									size_hint_x: .5
									size_hint_y: None
									height: self.texture_size[1]
									font_size: '15sp'
									underline: True
									halign: 'center'
									color: app.return_theme_color()
							
							BoxLayout:
								id: invoice_list
								orientation: 'vertical'
								spacing: 0
								height: self.minimum_height
								size_hint: 1, None
								
						BoxLayout:
							orientation: 'horizontal'
							spacing: 0
							height: self.minimum_height
							size_hint: 1, None
								
							MDLabel:
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								text: 'Total Amount'
								size_hint_x: .5
								size_hint_y: None
								height: self.texture_size[1]
								font_size: '15sp'
								halign: 'center'
								color: 'black'
									
							MDLabel:
								id: total_amount
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								text: '0'
								size_hint_x: .5
								size_hint_y: None
								height: self.texture_size[1]
								font_size: '15sp'
								halign: 'center'
								color: 'black'
								
						BoxLayout:
							orientation: 'horizontal'
							spacing: 0
							height: self.minimum_height
							size_hint: 1, None
								
							TextInput:
								id: particuars
								height: self.minimum_height + dp(10)
								hint_text: 'Item details'
								halign: 'left'
								multiline: False
								size_hint: 0.6, None
								font_size: '15sp'
								on_text:
									root.on_text_account(self)
								on_text_validate:
									amount.focus = True
									
							TextInput:
								id: amount
								height: self.minimum_height + dp(10)
								hint_text: 'Amount'
								halign: 'left'
								input_filter: 'float'
								multiline: False
								size_hint: 0.4, None
								font_size: '15sp'
								on_text_validate:
									root.check_if_saving(cash_or_credit.text, account_category.text, account_name.text, invoice_date.text, sales_account_name.text, 'add_item')
								
						BoxLayout:
							orientation: 'horizontal'
							spacing: 0
							height: self.minimum_height
							size_hint: 1, None
								
							Widget:
								height: 10
								
							MDRectangleFlatIconButton:
								icon: 'plus'
								text_color: 'black'
								md_bg_color: 255,255,255
								text: 'Add Item'
								size_hint: .4, None
								font_size: '15sp'
								on_release:
									root.check_if_saving(cash_or_credit.text, account_category.text, account_name.text, invoice_date.text, sales_account_name.text, 'add_item')
										
						Button:
							text: 'accounting software'
							size_hint_x: 1
							size_hint_y: None
							height: self.texture_size[1]
							background_color: 0,0,0,0
							background_normal: ''
							bold: True
							opacity: 0
							halign: 'center'
							font_size: 20
							color: 'white'
							pos_hint: {'center_x': 0.5, 'center_y': 5}
								
						BoxLayout:
							orientation: 'vertical'
							spacing: 0
							height: self.minimum_height
							size_hint: 1, None
										
							MDRectangleFlatIconButton:
								icon: 'content-save'
								text_color: app.return_theme_color()
								md_bg_color: 255,255,255
								text: 'Save List to journal'
								size_hint: .8, None
								font_size: '15sp'
								pos_hint: {'center_x': 0.5, 'center_y': .5}
								on_release:
									root.check_if_saving(cash_or_credit.text, account_category.text, account_name.text, invoice_date.text, sales_account_name.text, 'save')
							
						Button:
							text: 'accounting software'
							size_hint_x: 1
							size_hint_y: None
							height: self.texture_size[1] + dp(100)
							background_color: 0,0,0,0
							background_normal: ''
							bold: True
							opacity: 0
							halign: 'center'
							font_size: 20
							color: 'white'
							pos_hint: {'center_x': 0.5, 'center_y': 5}
					
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			scroll_view.scroll_y = 1
				
				
<ViewAccounts>:
	name: 'view_accounts'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	status: status
	account_name: account_name
	account_category: account_category
	error: error
	start_date: start_date
	end_date: end_date
	ledger_account: ledger_account
	total_entries: total_entries 
	date_column: date_column
	ids_column: ids_column
	memo_or_account: memo_or_account
	details_column: details_column
	amount_column: amount_column
	balance_column: balance_column
	total_amount: total_amount
	balance_amount: balance_amount
	bal_bd: bal_bd
	debit_total: debit_total
	credit_total: credit_total
	refresh_button: refresh_button
	exportation_layout: exportation_layout
	variance_from_budget: variance_from_budget
	first_scroll_view: first_scroll_view
	second_scroll_view: second_scroll_view
	the_characters: the_characters
	the_font_size: the_font_size
	the_label_height: the_label_height
	detailed_columns: detailed_columns
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				id: height_app_top
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'View Account Records'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
					right_action_items: [["help-circle", lambda x: root.get_help()]]
					
			ScrollView:
		    	id: first_scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 5
					height: self.minimum_height
					size_hint: 1, None
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'This page needs refreshing everytime a change is done to view the updated record.'
						size_hint_x: 1
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						
						Button:
							text: 'GO TO HOME PAGE'
							size_hint: .5, None
							height: self.texture_size[1] + 10
							background_color: 255,255,255
							font_size: '14sp'
							color: 'black'
							on_release:
								app.root.current = 'home'
								
						Button:
							text: 'GO TO Operations ANALYSIS'
							size_hint: .5, None
							height: self.texture_size[1] + 10
							background_color: 255,255,255
							font_size: '14sp'
							background_normal: ''
							color: 'blue'
							on_release:
								app.root.current = 'operations'
								
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None	
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						Button:
							text: 'GO TO BALANCE SHEET'
							size_hint: .5, None
							height: self.texture_size[1] + 10
							background_color: 255,255,255
							font_size: '14sp'
							background_normal: ''
							color: 'blue'
							on_release:
								app.root.current = 'balance_sheet'
								
						Button:
							text: 'GO TO TRIAL BALANCE'
							size_hint: .5, None
							height: self.texture_size[1] + 10
							font_size: '14sp'
							background_color: 255,255,255
							color: 'black'
							on_release:
								app.root.current = 'trial_balance'
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Viewing Account Records'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						size_hint: .9, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						Spinner:
							id: account_category
							text: 'Account Category'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							bold: True
							option_cls: 'CustomSpinnerOption'
							values : ['Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								root.update_lists_of_account(self.text)
								
						Spinner:
							id: account_name
							text: 'Choose Account'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							option_cls: 'CustomSpinnerOption'
							bold: True
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 10
								
						MDRectangleFlatIconButton:
							id: start_date
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_release:
								root.select_date(self)
								
						MDRectangleFlatIconButton:
							id: end_date
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_release:
								root.select_date(self)
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 10
								
						MDRectangleFlatIconButton:
							icon: 'file-excel'
							text: 'export to csv'
							size_hint: .5, None
							font_size: '15sp'
							halign: 'left'
							on_release:
								root.export_selected_account_to_csv(account_category.text, account_name.text, start_date.text, end_date.text)
								
						MDFillRoundFlatIconButton:
							id: refresh_button
							icon: 'refresh'
							text: 'Refresh'
							size_hint: 0.5, None
							font_size: '15sp' #22
							halign: 'left'
							on_release:
								root.show_loading_popup(account_category.text, account_name.text, start_date.text, end_date.text)
							
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'chars'
							size_hint_x: 0.2
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: app.return_icon_color()
							
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'font'
							size_hint_x: 0.2
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: app.return_icon_color()
							
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'height'
							size_hint_x: 0.2
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: app.return_icon_color()
						
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'split'
							size_hint_x: 0.4
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: app.return_icon_color()
					
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							Color:
								rgb: 255,255,255
							RoundedRectangle:
								pos: self.pos
								size: self.size	
					
						Spinner:
							id: the_characters
							text: '14'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .2
							background_color: 0,0,255,0
							color: 'black'
							bold: True
							option_cls: 'CustomSpinnerOption'
							values : ['10', '12', '13', '14', '16', '20', '24', '26', '30']
							font_size: '15sp'
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
						
						Spinner:
							id: the_font_size
							text: '13'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .2
							option_cls: 'CustomSpinnerOption'
							background_color: 0,0,255,0
							color: 'black'
							bold: True
							values : ['9', '10', '12', '13', '14', '15', '16', '17']
							font_size: '15sp'
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
										
						Spinner:
							id: the_label_height
							text: '35'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .2
							background_color: 0,0,255,0
							option_cls: 'CustomSpinnerOption'
							color: 'black'
							bold: True
							values : ['25', '28', '30', '35', '38', '40', '45', '50']
							font_size: '15sp'
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
													
						Spinner:
							id: memo_or_account
							text: 'Memo'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .4
							option_cls: 'CustomSpinnerOption'
							background_color: 0,0,255,0
							color: 'black'
							bold: True
							values : ['Memo', 'Contra Account']
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								
					Spinner:
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: 'Split journal records'
						size_hint_y: None
						height: self.texture_size[1] + dp(15)
						size_hint_x: .9
						option_cls: 'CustomSpinnerOption'
						background_color: 255,255,255,0
						color: app.return_theme_color()
						bold: True
						values : ['Today`s report', 'Past week report', 'Past month report', 'Past 90 days report', 'Reset']
						font_size: '15sp'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						on_text:
							root.split_records_to_view(account_category.text, account_name.text, self.text)
								
					MDLabel:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							Rectangle:
								pos: self.pos
								size: self.size
						text: ' '
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '5sp'
						underline: True
						halign: 'left'
						color: 'blue'
								
					#ScrollView:
					ZoomableScrollView:
						id: second_scroll_view
				    	size_hint: None, None
				    	height: root.get_screen_height() - height_app_top.height -5
				    	width: root.get_screen_width()
				    	on_scroll_start: the_top_view_display.opacity = 1
				    	on_scroll_move: the_top_view_display.opacity = 1
				    	on_scroll_stop: the_top_view_display.opacity = 0
				    	do_scroll_y: True
				    	do_scroll_x: True
				    	scroll_type: ['bars', 'content']
				    	#pos_hint: {'center_x': 0.5, 'center_y': 0.275}
		    	
		    	
				    	BoxLayout:
				    		id: exportation_layout
							orientation: 'vertical'
							size_hint: None, None
							spacing: 0
							height: self.minimum_height
							#width: self.minimum_width
							width: root.get_screen_width() + dp(100)
									
							BoxLayout:
								orientation: 'horizontal'
								spacing: 1
								height: self.minimum_height
								width: self.minimum_width
								size_hint: 1,None
								canvas.before:
									Color:
										rgba: app.theme_cls.primary_color
									Rectangle:
										pos: self.pos
										size: self.size
							
								BoxLayout
									id: date_column
									canvas.before:
										Color:
											rgb: 255,255,255
										Rectangle:
											pos: self.pos
											size: self.size
									orientation: 'vertical'
									spacing: 0
									height: self.minimum_height
									size_hint: 0.2,None
									
								BoxLayout:
									id: ids_column
									canvas.before:
										Color:
											rgb: 255,255,255
										Rectangle:
											pos: self.pos
											size: self.size
									orientation: 'vertical'
									spacing: 0
									height: self.minimum_height
									size_hint: 0.1,None
									
								BoxLayout:
									id: details_column
									canvas.before:
										Color:
											rgb: 255,255,255
										Rectangle:
											pos: self.pos
											size: self.size
									orientation: 'vertical'
									spacing: 0
									height: self.minimum_height
									size_hint: 0.2,None
									
								BoxLayout:
									id: amount_column
									canvas.before:
										Color:
											rgb: 255,255,255
										Rectangle:
											pos: self.pos
											size: self.size
									orientation: 'vertical'
									spacing: 0
									height: self.minimum_height
									size_hint: 0.25,None
								
								BoxLayout:
									id: balance_column
									canvas.before:
										Color:
											rgb: 255,255,255
										Rectangle:
											pos: self.pos
											size: self.size
									orientation: 'vertical'
									spacing: 0
									height: self.minimum_height
									size_hint: 0.255,None
									
							BoxLayout:
								spacing: 0
								height: self.minimum_height
								size_hint: 1,None
								
								MDLabel:
									canvas.before:
										Color:
											rgb: 255,255,255
										Rectangle:
											pos: self.pos
											size: self.size
									text: 'Total:'
									size_hint_x: 0.2
									size_hint_y: None
									height: self.texture_size[1]
									font_size: '15sp'
									halign: 'right'
									color: app.return_theme_color()
								
								MDLabel:
									canvas.before:
										Color:
											rgba: 255,0,0,.3
										Rectangle:
											pos: self.pos
											size: self.size
									text: ''
									underline: True
									bold: True
									size_hint_x: 0.1
									size_hint_y: None
									height: self.texture_size[1]
									font_size: 20
									halign: 'center'
									color: 'black'
									
								MDLabel:
									id: total_entries
									canvas.before:
										Color:
											rgb: 255,255,255
										Rectangle:
											pos: self.pos
											size: self.size
									text: ''
									underline: True
									bold: True
									size_hint_x: 0.2
									size_hint_y: None
									height: self.texture_size[1]
									font_size: '13sp'
									halign: 'center'
									color: app.return_theme_color()
									
								MDLabel:
									id: total_amount
									canvas.before:
										Color:
											rgb: 255,255,255
										Rectangle:
											pos: self.pos
											size: self.size
									text: '0'
									size_hint_x: 0.25
									size_hint_y: None
									underline: True
									height: self.texture_size[1]
									font_size: '13sp'
									halign: 'center'
									color: 'black'
									
								MDLabel:
									id: balance_amount
									canvas.before:
										Color:
											rgb: 255,255,255
										Rectangle:
											pos: self.pos
											size: self.size
									text: '0'
									underline: True
									size_hint_x: 0.25
									size_hint_y: None
									height: self.texture_size[1]
									font_size: '13sp'
									halign: 'center'
									color: 'black'
									
							MDLabel:
								id: variance_from_budget
								canvas.before:
									Color:
										rgb: 255,255,255
									RoundedRectangle:
										pos: self.pos
										size: self.size
								text: ''
								size_hint_x: 1
								size_hint_y: None
								height: self.texture_size[1]
								font_size: '15sp'
								halign: 'center'
								color: 'black'
								pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								
							Button:
								text: 'accounting software'
								size_hint_x: 1
								size_hint_y: None
								height: self.texture_size[1] + dp(50)
								background_color: 0,0,0,0
								background_normal: ''
								bold: True
								opacity: 0
								halign: 'center'
								font_size: 20
								color: 'white'
								pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					#Widget:
						
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			root.scroll_to_top(first_scroll_view, second_scroll_view)
			
	MDFloatingActionButton:
		icon: 'arrow-down-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.1}
		on_press:
			root.scroll_to_bottom(first_scroll_view, second_scroll_view)
		
	MDFloatingActionButton:
		icon: 'camera'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.5}
		on_press:
			root.export_displayed_as_pdf(account_category.text, account_name.text, start_date.text, end_date.text)
			
	BoxLayout:
		id: the_top_view_display
		orientation: 'vertical'
		spacing: 5
		opacity: 0
		height: self.minimum_height + 10
		size_hint: 1, None
		pos_hint: {'top': 1}
		canvas.before:
			Color:
				rgba: app.theme_cls.primary_color
			Rectangle:
				pos: self.pos
				size: self.size
		
		BoxLayout:
			orientation: 'vertical'
			spacing: 0
			height: self.minimum_height
			size_hint: 1, None
				
			BoxLayout:
				spacing: 0
				height: self.minimum_height
				size_hint: 1,None
				
				MDLabel:
					id: detailed_columns
					canvas.before:
						Color:
							rgba: 0,0,0,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Date'
					bold: True
					size_hint_x: 0.2
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '14sp'
					halign: 'center'
					color: app.return_icon_color()
					
				MDLabel:
					canvas.before:
						Color:
							rgba: 0,0,0,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'IDs'
					bold: True
					size_hint_x: 0.1
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '14sp'
					halign: 'center'
					color: app.return_icon_color()
					
				MDLabel:
					canvas.before:
						Color:
							rgba: 0,0,0,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Details'
					bold: True
					size_hint_x: 0.2
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '14sp'
					halign: 'center'
					color: app.return_icon_color()
					
				MDLabel:
					canvas.before:
						Color:
							rgba: 0,0,0,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Amount'
					bold: True
					size_hint_x: 0.25
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '14sp'
					halign: 'center'
					color: app.return_icon_color()
					
				MDLabel:
					canvas.before:
						Color:
							rgba: 0,0,0,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'Balances'
					size_hint_x: 0.25
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '14sp'
					halign: 'center'
					color: app.return_icon_color()	
			
		MDLabel:
			id: ledger_account
			canvas.before:
				Color:
					rgba: 255,255,255,0
				Rectangle:
					pos: self.pos
					size: self.size
			text: 'ledger accounts'
			size_hint_x: 1
			size_hint_y: None
			height: self.texture_size[1]
			font_size: '15sp'
			halign: 'center'
			color: app.return_icon_color()
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
		BoxLayout:
			orientation: 'horizontal'
			spacing: 0
			height: self.minimum_height
			size_hint: .9,None
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
				
			MDLabel:
				canvas.before:
					Color:
						rgba: 255,255,255,0
					Rectangle:
						pos: self.pos
						size: self.size
				text: 'debit total'
				size_hint_x: 0.5
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: 'blue'
				
			MDLabel:
				id: debit_total
				canvas.before:
					Color:
						rgba: 255,255,255,0
					Rectangle:
						pos: self.pos
						size: self.size
				text: '0'
				underline: True
				size_hint_x: 0.5
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '15sp'
				halign: 'center'
				color: app.return_theme_color()
				
		BoxLayout:
			orientation: 'vertical'
			spacing: 0
			height: self.minimum_height
			size_hint: 1, None
			canvas.before:
				Color:
					rgb: 255,255,255
				RoundedRectangle:
					pos: self.pos
					size: self.size
					
			BoxLayout:
				orientation: 'horizontal'
				spacing: 0
				height: self.minimum_height
				size_hint: .9,None
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
				MDLabel:
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: 'credit total'
					size_hint_x: 0.5
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: 'blue'
				
				MDLabel:
					id: credit_total
					canvas.before:
						Color:
							rgba: 255,255,255,0
						Rectangle:
							pos: self.pos
							size: self.size
					text: '0'
					underline: True
					size_hint_x: 0.5
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '15sp'
					halign: 'center'
					color: app.return_theme_color()
					
			BoxLayout:
				orientation: 'horizontal'
				spacing: 0
				height: self.minimum_height
				size_hint: 1,None
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				
				MDLabel:
					canvas.before:
						Color:
							rgba: 0,0,255,0
						RoundedRectangle:
							pos: self.pos
							size: self.size
					text: 'Previous Balance:  '
					size_hint_x: 0.5
					size_hint_y: None
					height: self.texture_size[1]
					font_size: '14sp'
					halign: 'right'
					color: app.return_theme_color()
					pos_hint: {'center_x': 0.875, 'center_y': 0.5}
				
				MDLabel:
					id: bal_bd
					canvas.before:
						Color:
							rgb: 255,255,255
						Rectangle:
							pos: self.pos
							size: self.size
					text: '0'
					size_hint_x: 0.5
					size_hint_y: None
					height: self.texture_size[1] + 10
					font_size: '14sp'
					underline: True
					halign: 'left'
					color: 'blue'
					
			MDLabel:
				canvas.before:
					Color:
						rgba: app.theme_cls.primary_color
					Rectangle:
						pos: self.pos
						size: self.size
				text: ' '
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '5sp'
				underline: True
				halign: 'left'
				color: 'blue'
		
					
					
<IncomeStatement>:
	name: 'income_statement'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	status: status
	error: error
	start_date: start_date
	end_date: end_date
	split_statement: split_statement
	refresh_button: refresh_button
	accounts_column: accounts_column
	amounts_column: amounts_column
	exportation_layout: exportation_layout
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'The Income Statement'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
					right_action_items: [["help-circle", lambda x: root.get_help()]]
					
			ScrollView:
		    	id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    			
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 5
					height: self.minimum_height
					size_hint: 1, None
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'The income statement can be viewed by filtering the dates and refreshing each time.'
						padding: [5,5]
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 5
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						
						Button:
							text: 'GO TO HOME PAGE'
							size_hint: .5, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							background_normal: ''
							color: 'black'
							font_size: '14sp'
							#pos_hint: {'center_x': 0.5, 'center_y': .5}
							on_release:
								app.root.current = 'home'
								
						Button:
							text: 'GO TO BALANCE SHEET'
							size_hint: .5, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							background_normal: ''
							font_size: '14sp'
							#pos_hint: {'center_x': 0.5, 'center_y': .5}
							color: 'blue'
							on_release:
								app.root.current = 'balance_sheet'
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Viewing Statement of Comprehensive income'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 10
								
						MDRectangleFlatIconButton:
							id: start_date
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_release:
								root.select_date(self)
								
						MDRectangleFlatIconButton:
							id: end_date
							icon: 'calendar'
							#text: root.show_date()
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_release:
								root.select_date(self)
							
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
								
						MDRectangleFlatIconButton:
							icon: 'file-excel'
							text: 'export to csv'
							size_hint: .5, None
							halign: 'left'
							font_size: '15sp'
							on_release:
								root.export_selected_income_statement_to_csv(start_date.text, end_date.text)
						
						MDFillRoundFlatIconButton:
							id: refresh_button
							icon: 'refresh'
							text: 'Refresh'
							size_hint: 0.5, None
							font_size: '15sp' #22
							halign: 'left'
							on_release:
								root.show_loading_popup(start_date.text, end_date.text)								
						
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'purple'
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
														
					Spinner:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								rectangle: self.x, self.y, self.width, self.height
						id: split_statement
						text: 'more reports'
						size_hint_y: None
						height: self.texture_size[1] + dp(15)
						option_cls: 'CustomSpinnerOption'
						size_hint_x: .9
						background_color: 255,255,255,0
						color: app.return_theme_color()
						bold: True
						values : ['Today`s report', 'Past week report', 'Past month report', 'Past 90 days report', 'Financial year report', 'Reset']
						font_size: '15sp'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						on_text:
							root.on_text_show_date(self.text)
								
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: '    Trading Account'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
		    	
				    BoxLayout:
				    	id: exportation_layout
						orientation: 'vertical'
						spacing: 0
						height: self.minimum_height
						size_hint: 1,None
									
						BoxLayout:
							orientation: 'horizontal'
							spacing: 2
							height: self.minimum_height
							size_hint: 1,None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								Rectangle:
									pos: self.pos
									size: self.size
							
							
							BoxLayout:
								id: accounts_column
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.5,None
									
							BoxLayout:
								id: amounts_column
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.5,None
								
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(100)
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			scroll_view.scroll_y = 1
			
	MDFloatingActionButton:
		icon: 'camera'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.5}
		on_press:
			root.export_displayed_as_pdf(start_date.text, end_date.text)
					
					
<BalanceSheet>:
	name: 'balance_sheet'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	status: status
	error: error
	end_date: end_date
	split_statement: split_statement
	refresh_button: refresh_button
	accounts_column: accounts_column
	amounts_column: amounts_column
	exportation_layout: exportation_layout
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'The Balance Sheet'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
					right_action_items: [["help-circle", lambda x: root.get_help()]]
					
			ScrollView:
		    	id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    			
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 5
					height: self.minimum_height
					size_hint: 1, None
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'The balance sheet can be viewed by filtering the dates and refreshing each time.'
						size_hint_x: 1
						size_hint_y: None
						padding: [5,5]
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 5
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						
						Button:
							text: 'GO TO HOME PAGE'
							size_hint: .5, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							color: 'black'
							font_size: '14sp'
							#pos_hint: {'center_x': 0.5, 'center_y': .5}
							on_release:
								app.root.current = 'home'
								
						Button:
							text: 'GO TO INCOME STATEMENT'
							size_hint: .5, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							color: 'blue'
							font_size: '14sp'
							#pos_hint: {'center_x': 0.5, 'center_y': .5}
							on_release:
								app.root.current = 'income_statement'
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Viewing Statement of Financial Position'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0,
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,0,0,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'as of date:'
							size_hint_x: .2
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + dp(8)
							font_size: '14sp'
							halign: 'center'
							color: 'black'
						
						MDRectangleFlatIconButton:
							id: end_date
							icon: 'calendar'
							#text: root.show_date()
							size_hint_x: 0.4
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
								
						MDFillRoundFlatIconButton:
							id: refresh_button
							icon: 'refresh'
							text: 'Refresh'
							size_hint: 0.4, None
							font_size: '15sp' #22
							halign: 'left'
							on_release:
								root.show_loading_popup(end_date.text)
														
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'purple'
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					BoxLayout:
				        orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: .9, None
						pos_hint: {'center_x': 0.5, 'center_y': .5}
						
						MDRectangleFlatIconButton:
							icon: 'file-excel'
							text: 'export to csv'
							size_hint: .5, None
							halign: 'left'
							font_size: '15sp'
							on_release:
								root.export_selected_balance_sheet_to_csv(end_date.text)
								
						MDLabel:
							canvas.before:
								Color:
									rgba: 0,0,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: '# SimploStats'
							size_hint_x: .5
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + dp(8)
							font_size: '15sp'
							halign: 'center'
							color: app.return_theme_color()
								
					Spinner:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								rectangle: self.x, self.y, self.width, self.height
						id: split_statement
						text: 'more fin - positions'
						size_hint_y: None
						height: self.texture_size[1] + dp(15)
						option_cls: 'CustomSpinnerOption'
						size_hint_x: .9
						background_color: 255,255,255,0
						color: app.return_theme_color()
						bold: True
						values : ['As at today', 'As at past week', 'As at past month', 'As at past 90 days', 'Reset']
						font_size: '15sp'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						on_text:
							root.on_text_show_date(self.text)
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'Statement of Financial Position'
						size_hint_x: 1
						underline: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '18sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				    	
					BoxLayout:
				    	id: exportation_layout
						orientation: 'vertical'
						spacing: 0
						height: self.minimum_height
						size_hint: 1,None
									
						BoxLayout:
							orientation: 'horizontal'
							spacing: 2
							height: self.minimum_height
							size_hint: 1,None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								Rectangle:
									pos: self.pos
									size: self.size
							
							BoxLayout:
								id: accounts_column
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.5,None
									
							BoxLayout:
								id: amounts_column
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.5,None
								
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(100)
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
								
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			scroll_view.scroll_y = 1
			
	MDFloatingActionButton:
		icon: 'camera'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.5}
		on_press:
			root.export_displayed_as_pdf(end_date.text)
					
					
<TrialBalance>:
	name: 'trial_balance'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	status: status
	error: error
	end_date: end_date
	refresh_button: refresh_button
	trial_what_balance: trial_what_balance
	accounts_debit: accounts_debit
	amounts_debit: amounts_debit
	exportation_layout: exportation_layout
	accounts_to_view: accounts_to_view
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'The Trial Balance'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
					right_action_items: [["help-circle", lambda x: root.get_help()]]
					
			ScrollView:
		    	id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    			
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 5
					height: self.minimum_height
					size_hint: 1, None
					
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'The Trial balance can be viewed by filtering the dates and refreshing each time.'
						size_hint_x: 1
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 5
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						
						Button:
							text: 'GO TO HOME PAGE'
							size_hint: .5, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							font_size: '14sp'
							color: 'black'
							#pos_hint: {'center_x': 0.5, 'center_y': .5}
							on_release:
								app.root.current = 'home'
								
						Button:
							text: 'GO TO VIEW ACCOUNTS'
							size_hint: .5, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							color: 'blue'
							#pos_hint: {'center_x': 0.5, 'center_y': .5}
							font_size: '15sp'
							on_release:
								app.root.current = 'view_accounts'
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Viewing the Trial Balance'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								
					BoxLayout:
				        orientation: 'horizontal'
				        spacing: 5
				        pos_hint: {'center_x': 0.5, 'center_y': .5}
						height: self.minimum_height
						size_hint: .9, None
						
						MDRectangleFlatIconButton:
							icon: 'file-excel'
							text: 'export to csv'
							size_hint: .5, None
							font_size: '15sp'
							halign: 'left'
							color: 'black'
							on_release:
								root.export_selected_trial_balance_to_csv(end_date.text)
								
						MDLabel:
							canvas.before:
								Color:
									rgba: 0,0,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: '# SimploStats'
							size_hint_x: .5
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + dp(8)
							font_size: '15sp'
							halign: 'center'
							color: app.return_theme_color()
								
					Spinner:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								rectangle: self.x, self.y, self.width, self.height
						id: trial_what_balance
						text: 'As at date'
						size_hint_y: None
						height: self.texture_size[1] + dp(15)
						size_hint_x: .9
						background_color: 255,255,255,0
						color: app.return_theme_color()
						bold: True
						values : ['As at date', 'Date`s transactions', 'Past week transactions', 'Past month transactions', 'Past 90 days transactions', 'Reset']
						option_cls: 'CustomSpinnerOption'
						font_size: '15sp'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						on_text:
							root.on_text_show_date(self.text)
					
					Spinner:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								rectangle: self.x, self.y, self.width, self.height
						id: accounts_to_view
						text: 'All Accounts'
						size_hint_y: None
						option_cls: 'CustomSpinnerOption'
						height: self.texture_size[1] + dp(15)
						size_hint_x: .9
						background_color: 255,255,255,0
						color: 'black'
						bold: True
						values : ['Expenses and Incomes', 'All Accounts', 'Sales and COS', 'Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
						font_size: '15sp'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						on_text:
							
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,0,0,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'as at date:'
							size_hint_x: .2
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + dp(8)
							font_size: '14sp'
							halign: 'center'
							color: 'black'
						
						MDRectangleFlatIconButton:
							id: end_date
							icon: 'calendar'
							size_hint_x: 0.4
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
								
						MDFillRoundFlatIconButton:
							id: refresh_button
							icon: 'refresh'
							text: 'Refresh'
							size_hint: 0.4, None
							font_size: '15sp' #22
							halign: 'left'
							on_release:
								root.show_loading_popup(end_date.text)
																		
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'The trial balance'
						size_hint_x: 1
						underline: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '18sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
						spacing: 0
						height: self.minimum_height
						size_hint: 1,None
						
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
							text: '   Debit balances'
							size_hint_x: .5
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '15sp'
							halign: 'left'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
							text: '   Amount'
							size_hint_x: .5
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '15sp'
							halign: 'left'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
				    	
				    BoxLayout:
				    	id: exportation_layout
						orientation: 'vertical'
						spacing: 0
						height: self.minimum_height
						size_hint: 1,None
									
						BoxLayout:
							orientation: 'horizontal'
							spacing: 2
							height: self.minimum_height
							size_hint: 1,None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								Rectangle:
									pos: self.pos
									size: self.size
							
							BoxLayout:
								id: accounts_debit
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.5,None
									
							BoxLayout:
								id: amounts_debit
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.5,None
								
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(100)
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			scroll_view.scroll_y = 1
			
	MDFloatingActionButton:
		icon: 'camera'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.5}
		on_press:
			root.export_displayed_as_pdf(end_date.text)
							
					
<SimploStatsAccount>:
	name: 'account'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	status: status
	error: error
	start_date: start_date
	end_date: end_date
	business_address: business_address
	business_email: business_email
	business_name: business_name
	storage_folder: storage_folder
	theme: theme
	photo_path: photo_path
	image: image
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'SimploStats Account'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
			
			ScrollView:
				id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
		    	
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 5
					height: self.minimum_height
					size_hint: 1, None
					
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'Welcome to @SimploStats,, to start using the app, first register your business information and then proceed to access various functions for book keeping'
						size_hint_x: .98
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Image:
						id: image
						source: ''
						size_hint: None, None
						size: 250, 250
						#allow_stretch: True
						#keep_ratio: True
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							StencilPush
							Ellipse:
								pos: self.pos
								size: self.size
							StencilUse
						canvas.after:
							StencilUnUse
							Ellipse:
								pos: self.pos
								size: self.size
							StencilPop
							
					MDLabel:
						canvas.before:
							Color:
								rgba: 0,0,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: '\n    Select a profile picture'
						size_hint_x: .95
						underline: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
					MDFlatButton:
						text: 'Chose a photo'
						size_hint_x: .7
						pos_hint: {'center_x': 0.35, 'center_y': 0.5}
						font_size: '15sp'
						md_bg_color: 0,0,0,.1
						text_color: 'black'
						halign: 'left'
						on_press:
							root.show_file_manager()
							
					MDLabel:
						id: photo_path
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: ' ' # /storage/emulated/0/Download/
						size_hint_x: .95
						underline: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'green'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Updating business information'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'vertical'
						size_hint: .9,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						Button:
							text: 'Business name: '
							bold: True
							size_hint_x: 1
							size_hint_y: None
							height: self.texture_size[1] + dp(10)
							background_color: 0,0,0,0
							background_normal: ''
							font_size: '15sp'
							halign: 'right'
							color: 'black'
							#pos_hint: {'center_x': 0.15, 'center_y': 0.5}
							on_release:
						
						TextInput:
							id: business_name
							hint_text: 'business name'
							halign: 'left'
							multiline: False
							size_hint: 1, None
							height: self.minimum_height + dp(15)
							font_size: '15sp'
							#pos_hint: {'center_x': 0.85, 'center_y': 0.5}
							on_text:
								root.on_text_account_2(self)
							on_text_validate:
								business_email.focus = True
							
					BoxLayout:
						orientation: 'vertical'
						size_hint: .9,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						Button:
							text: 'Business email: '
							bold: True
							size_hint_x: 1
							size_hint_y: None
							height: self.texture_size[1] + dp(10)
							background_color: 0,0,0,0
							background_normal: ''
							font_size: '15sp'
							halign: 'right'
							color: 'black'
							#pos_hint: {'center_x': 0.15, 'center_y': 0.5}
							on_release:
						
						TextInput:
							id: business_email
							hint_text: 'business email'
							halign: 'left'
							multiline: False
							size_hint: 1, None
							height: self.minimum_height + dp(15)
							font_size: '15sp'
							#pos_hint: {'center_x': 0.85, 'center_y': 0.5}
							on_text:
								root.on_text_account(self)
							on_text_validate:
								business_address.focus = True
							
					BoxLayout:
						orientation: 'vertical'
						size_hint: .9,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 10
						
						Button:
							text: 'Business address: '
							bold: True
							size_hint_x: 1
							size_hint_y: None
							height: self.texture_size[1] +dp(15)
							background_color: 255,0,0,0
							background_normal: ''
							font_size: '15sp'
							halign: 'right'
							color: 'black'
							#pos_hint: {'center_x': 0.15, 'center_y': 0.5}
							on_release:
						
						TextInput:
							id: business_address
							hint_text: 'business address'
							halign: 'left'
							multiline: False
							size_hint: 1, None
							height: self.minimum_height + dp(15)
							font_size: '15sp'
							#pos_hint: {'center_x': 0.85, 'center_y': 0.5}
							on_text:
								root.on_text_account(self)
							on_text_validate:
								root.select_date(start_date)
								
						Button:
							text: 'accounting'
							size_hint_x: .1
							size_hint_y: None
							height: self.texture_size[1]
							background_color: 'red'
							opacity: 0
							halign: 'center'
							font_size: 20
							color: 'white'
							pos_hint: {'center_x': 0.5, 'center_y': 5}	
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						Button:
							text: 'Select start date of financial year'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1] + dp(10)
							background_color: 255,0,0,0
							background_normal: ''
							font_size: '12sp'
							halign: 'right'
							color: 'black'
						
						Button:
							text: 'Select end date of financial year'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1] + dp(10)
							background_color: 0,0,255,0
							background_normal: ''
							font_size: '12sp'
							halign: 'right'
							color: 'black'
								
					BoxLayout:
						orientation: 'horizontal'
						size_hint: .9,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						canvas.before:
							Color:
								rgb: 255,255,255
							RoundedRectangle:
								pos: self.pos
								size: self.size
						
						MDRectangleFlatIconButton:
							id: start_date
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
								
						MDRectangleFlatIconButton:
							id: end_date
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
								
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						icon: 'help-circle'
						md_bg_color: 255,255,255,0
						size_hint: None, None
						pos_hint: {'left': .95}
						on_press:
							root.start_and_ends_dates()
					
					MDLabel:
						canvas.before:
							Color:
								rgba: 0,0,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: '\n    Default storage folder for exports and backup files'
						size_hint_x: .95
						underline: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						MDFlatButton:
							text: 'Change Folder'
							size_hint: .7,None
							font_size: '15sp'
							md_bg_color: 0,0,0,.1
							pos_hint: {'center_x': 0.35, 'center_y': 0.5}
							text_color: 'black'
							halign: 'left'
							on_press:
								root.show_file_manager()
						
						MDIconButton:
							theme_text_color: "Custom"
							text_color: app.return_theme_color()
							icon: 'help-circle'
							size_hint: .3, None
							md_bg_color: 255,255,255,0
							#pos_hint: {'right': 1}
							on_press:
								root.about_storage_folder()
							
					MDLabel:
						id: storage_folder
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: '' # /storage/emulated/0/Download/
						size_hint_x: .95
						underline: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'green'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
							
					MDFillRoundFlatIconButton:
						icon: 'account'
						text: 'Save business details'
						size_hint: 0.8, None
						font_size: '15sp' #22
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						on_release:
							root.create_business_account(business_name.text, business_email.text, business_address.text, start_date.text, end_date.text)
							
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Get the ultimate experience in accounting from our android app'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'green'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
					MDLabel:
						canvas.before:
							Color:
								rgba: 0,0,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: '\n    App Theme on next Launch'
						size_hint_x: .95
						underline: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Spinner:
						id: theme
						text: 'App Theme'
						size_hint_y: None
						height: self.texture_size[1] + dp(15)
						size_hint_x: .7
						option_cls: 'CustomSpinnerOption'
						pos_hint: {'center_x': 0.35, 'center_y': 0.5}
						background_color: 0,0,0,.1
						color: app.return_theme_color()
						values : ['Red', 'Pink', 'Purple', 'DeepPurple', 'Indigo', 'Blue', 'LightBlue', 'Cyan', 'Teal', 'Green', 'LightGreen', 'DeepOrange', 'Brown']
						font_size: '18sp'
						on_text:
							root.set_the_app_theme(self.text)
							
					MDLabel:
						canvas.before:
							Color:
								rgba: 0,0,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: '\n    App Transition on next Launch'
						size_hint_x: .95
						underline: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Spinner:
						id: app_transition
						text: 'App Transition'
						size_hint_y: None
						height: self.texture_size[1] + dp(15)
						size_hint_x: .7
						option_cls: 'CustomSpinnerOption'
						pos_hint: {'center_x': 0.35, 'center_y': 0.5}
						background_color: 0,0,0,.1
						color: app.return_theme_color()
						values : ['FadeTransition', 'SlideTransition', 'SwapTransition', 'WipeTransition', 'NoTransition']
						font_size: '18sp'
						on_text:
							root.set_the_app_transition(self.text)
							
					MDLabel:
						canvas.before:
							Color:
								rgba: 0,0,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: '\n    Factory Reset'
						size_hint_x: .95
						underline: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'We provide a function to reset the App and bring it to its default state. This mean the user will lose all the data in the App main file and start a fresh.\nTo perform the action, first create a password to be used in approving the reset.\nEnter your password in the business address text field and press "Reset SimploStats App"'
						size_hint_x: .98
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
					MDFlatButton:
						text: 'Reset SimploStats App'
						size_hint_x: .7
						pos_hint: {'center_x': 0.35, 'center_y': 0.5}
						font_size: '15sp'
						md_bg_color: 0,0,0,.1
						text_color: 'black'
						halign: 'left'
						on_press:
							root.reset_the_app(business_address.text)
					
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(100)
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
							
					Widget:
				
				
<LogInPage>:
	name: 'log_in'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	slide_show: slide_show
	welcome_user: welcome_user
	image: image
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: True
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
				
			MDLabel:
				id: slide_show
				canvas.before:
					Color:
						rgba: 255,255,255,0
					RoundedRectangle:
						pos: self.pos
						size: self.size
				text: ''
				size_hint_x: .9
				padding: [10,10]
				size_hint_y: None
				height: self.texture_size[1]
				font_size: '16sp'
				halign: 'left'
				color: app.return_theme_color()
				pos_hint: {'center_x': 0.5, 'center_y': 0.5}		
			
			Button:
				text: 'accounting'
				size_hint_x: 1
				size_hint_y: None
				height: self.texture_size[1] + dp(25)
				background_color: 'red'
				opacity: 0
				halign: 'center'
				font_size: 20
				color: 'white'
				pos_hint: {'center_x': 0.5, 'center_y': 5}
				
	BoxLayout:
		orientation: 'vertical'
		spacing: 5
		height: self.minimum_height
		size_hint: 1, None
		pos_hint: {'center_x': 0.5, 'top': 1}
				
		MDTopAppBar:
			title: 'S i m p l o S t a t s  B o o k s'
			opacity: 1
			size_hint_y: None
			elevation: 0
			left_action_items: [["arrow-left-circle", lambda x: root.back_up_or_exit()]]
				
		Button:
			text: 'accounting'
			size_hint_x: 1
			size_hint_y: None
			height: self.texture_size[1] + dp(15)
			background_color: 'red'
			opacity: 0
			halign: 'center'
			font_size: 20
			color: 'white'
			pos_hint: {'center_x': 0.5, 'center_y': 5}
			
		Image:
			id: image
			source: root.show_user_picture()
			size_hint: None, None
			size: 300, 300
			#allow_stretch: True
			#keep_ratio: True
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				StencilPush
				Ellipse:
					pos: self.pos
					size: self.size
				StencilUse
			canvas.after:
				StencilUnUse
				Ellipse:
					pos: self.pos
					size: self.size
				StencilPop
		
		Button:
			text: 'view photo'
			size_hint_x: 1
			size_hint_y: None
			height: self.texture_size[1] + dp(5)
			background_color: 0,0,0,0
			halign: 'center'
			font_size: '15sp'
			color: app.return_theme_color()
			pos_hint: {'center_x': 0.5, 'center_y': .5}
			on_press:
				root.full_image_view(image.source)
				
		Button:
			text: 'accounting'
			size_hint_x: 1
			size_hint_y: None
			height: self.texture_size[1] + dp(20)
			background_color: 'red'
			opacity: 0
			halign: 'center'
			font_size: 20
			color: 'white'
			pos_hint: {'center_x': 0.5, 'center_y': 5}
							
		MDLabel:
			canvas.before:
				Color:
					rgba: 255,255,255,0
				RoundedRectangle:
					pos: self.pos
					size: self.size
					radius: [10]
			canvas:
				Color:
					rgba: app.theme_cls.primary_color
				Line:
					points: self.x, self.y, self.x + self.width, self.y
					width: 2
			text: 'SimploStats is a cutting-edge accounting app designed to store financial records and generate insightful financial statements.\n\nWith user-friendly features and real-time insights, SimploStats empowers users to make informed financial decisions, fostering increased productivity and financial clarity.'
			size_hint_x: .98
			size_hint_y: None
			height: self.texture_size[1]
			padding: [10,5]
			font_size: '16sp'
			halign: 'left'
			color: app.return_theme_color()
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
		MDIconButton:
			theme_text_color: "Custom"
			text_color: app.return_theme_color()
			md_bg_color: 255,255,255,0
			icon: 'help-circle'
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			on_press:
				root.open_about_popup()
				
		MDLabel:
			canvas.before:
				Color:
					rgba: 255,255,255,0
				RoundedRectangle:
					pos: self.pos
					size: self.size
			text: '</$>'
			size_hint_x: .98
			size_hint_y: None
			height: self.texture_size[1] + dp(15)
			font_size: '30sp'
			halign: 'center'
			color: app.return_theme_color()
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
		MDLabel:
			id: welcome_user
			canvas.before:
				Color:
					rgba: 255,255,255,0
				RoundedRectangle:
					pos: self.pos
					size: self.size
			text: root.welcome_message()
			size_hint_x: .98
			padding: [5,5]
			size_hint_y: None
			height: self.texture_size[1] + dp(15)
			font_size: '15sp'
			halign: 'center'
			color: app.return_theme_color()
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			
		Button:
			text: 'accounting'
			size_hint_x: 1
			size_hint_y: None
			height: self.texture_size[1] + 20
			background_color: 'red'
			opacity: 0
			halign: 'center'
			font_size: 20
			color: 'white'
			pos_hint: {'center_x': 0.5, 'center_y': 5}
			
		MDFillRoundFlatIconButton:
			icon: 'login'
			text: 'Press to continue to SimploStats'
			size_hint: 0.9, None
			font_size: '15sp' #22
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			on_release:
				root.continue_to_business_records()
			
		Button:
			text: 'accounting'
			size_hint_x: 1
			size_hint_y: None
			height: self.texture_size[1]
			background_color: 'red'
			opacity: 0
			halign: 'center'
			font_size: 20
			color: 'white'
			pos_hint: {'center_x': 0.5, 'center_y': 5}

	

<HelpAndSupport>:
	name: 'help'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	my_checkbox: my_checkbox
	agree_button: agree_button
	search_help: search_help
	help_boxlayout: help_boxlayout
	scroll_view: scroll_view
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: True
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'vertical'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'Help and Support'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					
				TextInput:
					id: search_help
					hint_text: 'search for help'
					halign: 'left'
					multiline: False
					size_hint: .98, None
					height: self.minimum_height + 20
					font_size: '15sp'
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					on_text_validate:
						root.scroll_to_word(self.text)
			
			ScrollView:
				id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    			
		    	BoxLayout:
		    	    id: help_boxlayout
			        orientation: 'vertical'
			        spacing: 10
					height: self.minimum_height
					size_hint: 1, None
							
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
							
					MDLabel:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Find help on how SimploStats App work'
						size_hint_x: 1
						padding: [10,10]
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '16sp'
						halign: 'left'
						color: app.return_icon_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: 'Press on the help tip to view details'
						size_hint_x: .95
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '16sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDFlatButton:
						text: '1. Start and end dates for financial year'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.find_the_help('start_end_dates', 'Financial Year Period')
							
					MDFlatButton:
						text: '2. Opening Balance Equity'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.find_the_help('opening_balance', 'Opening Balance Equity')
							
					MDFlatButton:
						text: '3. Operating Revenue and Cost of Sales Categories'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.find_the_help('special_accounts', 'Special Categories>COS and Operating Revenue')
							
					MDFlatButton:
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: '4. Buttons pressing and their functions'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: ' In all the pages in the app, press on the account name displayed to navigate to "Account Records" to view every transaction recored in the Account as per selected dates.\nYou will need to refresh everytime to view the current Accounts\n\n When viewing accounts entries, press on the "IDs" (second column) assigned to each transaction to edit or delete a selected transaction.\n\n Incase dates are required, press on the button with a calendar icon to select date from calendar The button will look as below: '
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDRectangleFlatIconButton:
						icon: 'calendar'
						md_bg_color: 255,255,255
						size_hint_x: 0.5
						font_size: '15sp'
						halign: 'left'
						bold: True
						pos_hint: {'center_x': 0.3, 'center_y': 0.5}
						on_press:
							root.select_date(self)
							
					MDFlatButton:
						text: '5. Password Protection'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.find_the_help('passwords', 'Password Settings')
						
					MDFlatButton:
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: '6. Warning and Guide'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'In all pages in this app, we have included a red label display on top of the screen that display errors and guide users on how to use the app.\n\nWhen using our app, always considered checking on the red label to get help.'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDFlatButton:
						text: '7. Taxes Category'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.find_the_help('taxes', 'Taxes Category')
						
					MDFlatButton:
						text: '8. Depreciation Special Accounts'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.find_the_help('dep', 'Depreciation and Accumulated Depreciation')
							
					MDFlatButton:
						text: '9. Recording Accumulated Depreciation'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.find_the_help('accum_dep', 'Accumulated Depreciation')
							
					MDFlatButton:
						text: '10. Retained Earnings Account - Closing the business'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.find_the_help('retained_earnings', 'Retained Earnings - Close Business')
							
					MDFlatButton:
						text: '11. Reports available for exporting'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.find_the_help('export', 'Exporting the Reports')
							
					MDFlatButton:
						text: '12. Summary for Enhanced Reporting'
						size_hint: 1, None
						md_bg_color: 255, 255, 255,0
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						font_size: "15sp"
						halign: 'left'
						on_press:
							root.find_the_help('summary', 'Summary to Reports')
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: '13. In all Panels of the app, press on the icon on top-right of the screen to read more about the panel. \nThe icon looks as below:' 
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDIconButton:
						theme_text_color: "Custom"
						text_color: app.return_theme_color()
						icon: 'help-circle'
						md_bg_color: 255,255,255
						size_hint: None, None
						pos_hint: {'left': .95}
						on_press:
							root.find_the_help('show_tip', 'Help panel')
						
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 10
						
						CheckBox:
							id: my_checkbox
							size_hint_x: .12
							size_hint_y: None
							on_active:
							
						MDFillRoundFlatIconButton:
							id: agree_button
							icon: 'check-circle'
							text: 'I agree to have read and understood'
							size_hint: 0.88, None
							font_size: '15sp' #22
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_release:
								root.check_active_status(my_checkbox, agree_button)
						
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'Incase you need more assistance, press the email below to send your queries:'
						size_hint_x: .8
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Button:
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: 'snjuguna184@gmail.com'
						size_hint_x: .8
						underline: True
						size_hint_y: None
						background_color: 255,255,255,0
						height: self.texture_size[1]
						font_size: '18sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						on_press:
							root.copy_to_clipboard(self.text)
					
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: ' SimploStats for you'
						size_hint_x: .8
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(50)
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
								
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			root.scroll_to_top(scroll_view)
				
				
<FinancialAnalysis>:
	name: 'analysis'
	canvas.before:
		Color:
			rgba: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	end_date2: end_date2
	error: error
	net_proft_margin: net_proft_margin
	return_on_assets: return_on_assets
	current_ratio: current_ratio
	tax_rate: tax_rate
	econ_life: econ_life
	depreciation_base: depreciation_base
	rate_of_dep: rate_of_dep
	cost_of_asset: cost_of_asset
	solution: solution
	residue: residue
	scatter: scatter
	key_label: key_label
	expense_label: expense_label
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'Financial Anaysis'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
			
			ScrollView:
				id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 5
					height: self.minimum_height
					size_hint: 1, None
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Below are some financial ratios for your business. Select a date upto which the ratios will be calculated'
						size_hint_x: .95
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,0,0,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'as of date:'
							size_hint_x: .2
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + dp(8)
							font_size: '14sp'
							halign: 'center'
							color: 'black'
						
						MDRectangleFlatIconButton:
							id: end_date2
							icon: 'calendar'
							size_hint_x: 0.4
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
								
						MDFillRoundFlatIconButton:
							id: refresh_button
							icon: 'refresh'
							text: 'Refresh'
							size_hint: 0.4, None
							font_size: '15sp' #22
							halign: 'left'
							on_release:
								root.calculate_ratios_by_date(end_date2.text)
								
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
								
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: 'Profitability Ratios'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						underline: True
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
								
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Net profit margin'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: 'black'
							pos_hint: {'center_x': 0.2, 'center_y': 0.5}			
								
						MDLabel:
							id: net_proft_margin
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							size_hint_x: .5
							bold: True
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'left'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.7, 'center_y': 0.5}
							
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
								
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Return on assests'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: 'black'
							pos_hint: {'center_x': 0.2, 'center_y': 0.5}			
								
						MDLabel:
							id: return_on_assets
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							size_hint_x: .5
							bold: True
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'left'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.7, 'center_y': 0.5}
							
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
							
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: 'Liquidity Ratios'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						underline: True
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
								
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Current ratio'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: 'black'
							pos_hint: {'center_x': 0.2, 'center_y': 0.5}			
								
						MDLabel:
							id: current_ratio
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							size_hint_x: .5
							bold: True
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'left'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.7, 'center_y': 0.5}
							
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'The panel below help calculate a tax payable amount at certain percentage of total income'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 0
				        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						height: self.minimum_height
						size_hint: .9, None
						
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Tax rate'
							size_hint_x: .5
							height: self.texture_size[1] + dp(10)
							bold: True
							size_hint_y: None
							#height: self.texture_size[1] + 20
							font_size: '15sp'
							halign: 'center'
							color: 'black'
							
						TextInput:
							id: tax_rate
							hint_text: 'enter in %'
							height: self.minimum_height + dp(15)
							halign: 'left'
							input_filter: 'float'
							multiline: False
							size_hint: 0.5, None
							font_size: '15sp'
							on_text_validate:
								root.see_payable_tax_hint(self.text)
					
					Button:
						text: 'Calcutate Tax Amount'
						size_hint_x: .7
						size_hint_y: None
						height: self.texture_size[1]+20
						background_color: 0,0,0,.1
						opacity: 1
						halign: 'center'
						font_size: '15sp'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.35, 'center_y': 5}
						on_press:
							root.see_payable_tax_hint(tax_rate.text)
							
					Button:
						text: 'accounting'
						size_hint_x: .1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: 'Depreciation Calculator'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: solution
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'solution'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 0
						height: self.minimum_height
						size_hint: .95, None
							
						TextInput:
							id: cost_of_asset
							hint_text: 'Asset cost'
							height: self.minimum_height
							halign: 'left'
							input_filter: 'float'
							multiline: False
							size_hint: 0.4, None
							font_size: '15sp'
							on_text_validate:
								econ_life.focus = True
							
						TextInput:
							id: econ_life
							hint_text: 'economic life (Y)'
							height: self.minimum_height
							halign: 'left'
							input_filter: 'float'
							multiline: False
							size_hint: 0.35, None
							font_size: '15sp'
							on_text_validate:
								rate_of_dep.focus = True
							
						TextInput:
							id: rate_of_dep
							hint_text: 'rate {%}'
							height: self.minimum_height
							halign: 'left'
							input_filter: 'float'
							multiline: False
							size_hint: 0.25, None
							font_size: '15sp'
							on_text_validate:
								residue.focus = True
					
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 0
						height: self.minimum_height
						size_hint: .95, None
						
						TextInput:
							id: residue
							hint_text: 'residue value'
							height: self.minimum_height
							halign: 'left'
							input_filter: 'float'
							multiline: False
							size_hint: 0.4, None
							font_size: '15sp'
							
						Button:
							text: 'accounting'
							size_hint_x: .6
							size_hint_y: None
							height: self.texture_size[1]
							background_color: 'red'
							opacity: 0
							halign: 'center'
							font_size: 20
							color: 'white'
							pos_hint: {'center_x': 0.5, 'center_y': 5}
							
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 0
						height: self.minimum_height
						size_hint: 1, None
						
						Spinner:
							id: depreciation_base
							text: 'straight line'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .5
							background_color: 0,0,0,.1
							color: app.return_theme_color()
							bold: True
							values : ['straight line', 'reducing balance']
							font_size: '15sp'
							pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_text:
								
						Button:
							text: 'Calcutate Depreciation'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1]+20
							background_color: 0,0,0,.1
							halign: 'center'
							font_size: '15sp'
							color: app.return_theme_color()
							pos_hint: {'center_x': 0.75, 'center_y': 0.5}
							on_press:
								root.calculate_depreciation(cost_of_asset.text, rate_of_dep.text, econ_life.text, depreciation_base.text, residue.text)
							
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'Below are some financial ratios which you can calculate for your business'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: '1. Net profit Margin'
						size_hint_x: .8
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '17sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'Net Profit Margin = (Net Profit/Revenue)  100%\n\nHigher net profit margin indicates better profitability, as the company is retaining a larger portion of its revenue as profit.\nConversely, a lower net profit margin suggests lower profitability and might prompt further examination of the company`s cost structure and efficiency.\n\nMonitoring changes in net profit margin over time helps evaluate the company`s financial health and the effectiveness of its cost management strategies.'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: '2. Return on assests (ROA)'
						size_hint_x: .8
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '17sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'ROA = (Net Profit / Total Assets) * 100%\n\nROA indicates how effectively a company utilizes its assets to generate profit. A higher ROA suggests efficient asset utilization.\nChanges in ROA over time provide insights into a company`s operational efficiency and financial health.'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: '3. Return on equity (ROE)'
						size_hint_x: .8
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '17sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'ROE = (Net Profit / Shareholders Equity) * 100%\n\nROE reflects how efficiently a company generates profits from the equity invested by shareholders.A high ROE is generally desirable, indicating effective use of shareholder capital to generate returns.\n\nROE can be further analyzed using the DuPont formula, which breaks it down into three components: \nNet Profit Margin, \nAsset Turnover, and \nEquity Multiplier.'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: '4. Current ratio'
						size_hint_x: .8
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '17sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'Current Ratio = Current Assets / Current Liabilities\n\nA ratio greater than 1 suggests the company has more current assets than current liabilities, indicating a potentially healthy liquidity position.\nHowever, a very high ratio might imply underutilization of assets, while a ratio significantly below 1 may indicate potential difficulty meeting short-term obligations.'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: '5. Debt-to-Equity Ratio'
						size_hint_x: .8
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '17sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'Debt-to-Equity Ratio = Total Debt / Shareholders` Equity\n\nThe ratio indicates the extent to which a company relies on debt financing relative to equity. A higher D/E ratio suggests higher financial leverage.\nA low D/E ratio may indicate conservative financing, while a high ratio may signal higher financial risk.\n\nthe Debt-to-Equity Ratio is a crucial metric for assessing a company`s financial structure and risk. It aids in understanding how much of a company`s operations are funded by debt versus equity, offering valuable insights for financial decision-making.'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: '6. Accounts Receivable Turnover'
						size_hint_x: .8
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '17sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'Accounts Receivable Turnover = Revenue / Average Accounts Receivable\n\nAccounts Receivable Turnover is a measure of how efficiently a company is able to collect payments from its customers.\nA higher turnover ratio indicates effective management of receivables and quicker conversion of sales into cash.\n\nA higher turnover ratio is generally favorable, suggesting a shorter collection period and efficient credit management.\nConversely, a lower ratio may indicate slower collections, potentially leading to cash flow challenges.'
						size_hint_x: .95
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'There are a number of financial ratios that illustrate the operational effiency of your business. Press on the button below to access more materials online.'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '17sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					Button:
						text: 'Press here to find more about ratios online'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + 20
						background_color: 0,0,0,.1
						opacity: 1
						halign: 'center'
						font_size: '16sp'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						on_press:
							root.more_on_ratios_online()
							
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]+40
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					Spinner:
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								rectangle: self.x, self.y, self.width, self.height
						id: view_income_expense
						text: 'Operating Expenses'
						size_hint_y: None
						height: self.texture_size[1] + dp(10)
						size_hint_x: .8
						background_color: 0,0,0,0
						color: app.return_theme_color()
						option_cls: 'CustomSpinnerOption'
						values : ['Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
						font_size: '15sp'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						on_text:
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
										
						MDRectangleFlatIconButton:
							id: start_date
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
								
						MDRectangleFlatIconButton:
							id: end_date
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
							
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
							
						MDRectangleFlatIconButton:
							icon: 'refresh'
							id: refresh_button
							size_hint_x: .5
							size_hint_y: None
							text: 'Refresh'
							font_size: '15sp'
							halign: 'left'
							pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_release:
								root.draw_pie_chart(start_date.text, end_date.text, scatter, view_income_expense.text)
								
					MDLabel:
						id: expense_label
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						canvas:
							Color:
								rgba: app.theme_cls.primary_color
							Line:
								points: self.x, self.y, self.x + self.width, self.y
								width: 2
						text: 'Pie chart visual'
						size_hint_x: 1
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
								
						RstDocument:
							id: key_label
							size_hint: .5, None
							height: dp(400)
							pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							
						FloatLayout:
							#orientation: 'vertical'
							size_hint: .5,None
							height: dp(400)
							pos_hint: {'center_x': 0.75, 'center_y': 0.5}
							spacing: 0
					
							Scatter:
								id: scatter
								do_rotation: False
								do_scale: False
								do_translation: False
								size_hint: 1, None
								height: dp(400)
								pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
					Button:
						text: 'accounting'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]+dp(50)
						background_color: 'red'
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
					
				
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			scroll_view.scroll_y = 1

											
<BalancesAnalysis>:
	name: 'balances'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	account_category: account_category
	account_name: account_name
	error: error
	status: status
	display_panel: display_panel
	days_ago: days_ago
	the_font_size: the_font_size
	is_today: is_today
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1, 1
    	do_scroll_y: True
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'Accounts Balance Analysis'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
					right_action_items: [["help-circle", lambda x: root.get_help()]]
			
			ScrollView:
				id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 9
					height: self.minimum_height
					size_hint: 1, None
					
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'This panel allow users to analyze the accounts balances at certain days from today. e.g. Balances at 15, 20, 30, 45 e.t.c. days ago'
						size_hint_x: 1
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Select an account and type in the field the days prior from today, which you want to view the account balances.'
						size_hint_x: 1
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Analyzing Account balances'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': .5}
						size_hint: .9, None
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						Spinner:
							id: account_category
							text: 'Account Category'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							bold: True
							values : ['Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
							option_cls: 'CustomSpinnerOption'
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								root.update_lists_of_account(self.text)
								
						Spinner:
							id: account_name
							text: 'Choose Account'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							option_cls: 'CustomSpinnerOption'
							bold: True
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 5
						
						TextInput:
							id: days_ago
							hint_text: 'days prior..'
							halign: 'left'
							input_filter: 'int'
							multiline: False
							size_hint: 0.35, None
							height: self.minimum_height + dp(8)
							font_size: '15sp'
							pos_hint: {'center_x': 0.65, 'center_y': 0.5}
							on_text_validate:
								root.find_account_balance(self.text, account_category.text, account_name.text)
								
						MDFillRoundFlatIconButton:
							id: refresh_button
							icon: 'refresh'
							text: 'Refresh'
							size_hint: 0.325, None
							font_size: '15sp' #22
							halign: 'left'
							on_release:
								root.find_account_balance(days_ago.text, account_category.text, account_name.text)
								
						Button:
							text: 'Clear display'
							size_hint_x: .325
							size_hint_y: None
							height: self.texture_size[1] + 20
							background_color: 255,255,255,0
							bold: True
							opacity: 1
							halign: 'center'
							font_size: '15sp'
							color: 'red'
							on_release:
								root.clear_display()
								
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 2
							
						Button:
							text: 'View accum dep'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1] + 20
							background_color: 255,255,255,0
							bold: True
							opacity: 1
							halign: 'center'
							font_size: '15sp'
							color: app.return_theme_color()
							on_release:
								root.view_accum_dep()
								
						Button:
							text: 'Assets Historical Costs'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1] + 20
							background_color: 255,255,255,0
							bold: True
							opacity: 1
							halign: 'center'
							font_size: '15sp'
							color: app.return_theme_color()
							on_release:
								root.view_assets_at_costs()
								
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 2
						
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'font'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '16sp'
							halign: 'center'
							color: app.return_theme_color()
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'when is today?'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: 'black'
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 10
								
						Spinner:
							id: the_font_size
							text: '15'
							size_hint_y: None
							option_cls: 'CustomSpinnerOption'
							height: self.texture_size[1] + dp(15)
							size_hint_x: .5
							background_color: 0,0,0,.1
							color: app.return_theme_color()
							bold: True
							values : ['9', '10', '12', '13', '14', '15', '16', '17', '20', '22']
							font_size: '15sp'
							
						MDRectangleFlatIconButton:
							id: is_today
							icon: 'calendar'
							text: root.show_date()
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_release:
								root.select_date(self)
								
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'Press on the account information displayed below to view its transactions'
						size_hint_x: 1
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								
					BoxLayout:
						orientation: 'vertical'
						spacing: 0
						height: self.minimum_height
						size_hint: 1, None
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
				    	
						BoxLayout:
							id: display_panel
							orientation: 'vertical'
							spacing: 0
							height: self.minimum_height
							size_hint: .98, None
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
									
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(100)
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
				
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			scroll_view.scroll_y = 1
					


<BudgetScreen>:
	name: 'budget'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			
	status: status
	error: error
	end_date: end_date
	budget_amount: budget_amount
	account_category: account_category
	account_name: account_name
	refresh_button: refresh_button
	accounts_debit: accounts_debit
	amounts_debit: amounts_debit
	exportation_layout: exportation_layout
	budget_column: budget_column
	variance_column: variance_column
	split_budget: split_budget
	accounts_to_view: accounts_to_view
	the_font_size: the_font_size
	rate_or_amount: rate_or_amount
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: False
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'Budget Analysis'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
					right_action_items: [["help-circle", lambda x: root.get_help()]]
			
			ScrollView:
				id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 5
					height: self.minimum_height
					size_hint: 1, None
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Users can add budgeted amount to all Accounts. A date is selected to which the variances between budgeted and actual amounts are calculated for user interpretation and decision making.'
						padding: [5,5]
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 5
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						
						Button:
							text: 'GO TO HOME PAGE'
							size_hint: .5, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							color: 'black'
							#pos_hint: {'center_x': 0.5, 'center_y': .5}
							font_size: '14sp'
							on_release:
								app.root.current = 'home'
								
						Button:
							text: 'GO TO VIEW ACCOUNTS'
							size_hint: .5, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							color: 'black'
							font_size: '14sp'
							#pos_hint: {'center_x': 0.5, 'center_y': .5}
							on_release:
								app.root.current = 'view_accounts'
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Budget Mode'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'vertical'
				        spacing: 5
						height: self.minimum_height
						size_hint: .9, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
							
						Spinner:
							id: account_category
							text: 'Account Category'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							option_cls: 'CustomSpinnerOption'
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							bold: True
							values : ['Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								root.update_lists_of_account(self.text)
									
						Spinner:
							id: account_name
							text: 'Choose Account'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							option_cls: 'CustomSpinnerOption'
							size_hint_x: .98
							background_color: 255,255,255
							color: app.return_theme_color()
							bold: True
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								root.on_text_if_account_in_budget(account_category.text, self.text)
						
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: .9,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						TextInput:
							id: budget_amount
							hint_text: 'budget amount'
							helper_text: ''
							input_filter: 'float'
							helper_text_mode: 'persistent'
							halign: 'left'
							icon_left: 'key'
							multiline: False
							height: self.minimum_height + dp(8)
							size_hint: .5, None
							font_size: '15sp'
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text_validate:
								root.add_budget_amount(self.text, account_category.text, account_name.text)
							
						MDRectangleFlatIconButton:	
							icon: 'plus'
							text: 'Save budget'
							size_hint: 0.5, None
							font_size: '15sp' #22
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_release:
								root.add_budget_amount(budget_amount.text, account_category.text, account_name.text)
							
					BoxLayout:
						orientation: 'horizontal'
						size_hint: .9,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						MDRectangleFlatIconButton:
							icon: 'file-excel'
							text: 'export to csv'
							size_hint: .5, None
							font_size: '15sp'
							halign: 'left'
							on_release:
								root.export_the_budget_to_csv(start_date.text, end_date.text, split_budget.text,accounts_to_view.text)
								
						MDRectangleFlatIconButton:
							icon: 'delete'
							text: 'clear budget'
							text_color: 'red'
							size_hint: 0.5, None
							font_size: '15sp' #22
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_release:
								root.delete_the_budget_amount(budget_amount.text, account_category.text, account_name.text)
								
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 5
						
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'font'
							padding: [5, 5]
							size_hint_x: .25
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '14sp'
							halign: 'center'
							color: 'black'
							
						Spinner:
							id: the_font_size
							text: '13'
							size_hint_y: None
							height: self.texture_size[1] + dp(10)
							size_hint_x: .25
							background_color: 255,255,255,0
							color: app.return_theme_color()
							option_cls: 'CustomSpinnerOption'
							bold: True
							values : ['9', '10', '12', '13', '14', '15', '16', '17']
							font_size: '15sp'
							
						Spinner:
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								Line:
									rectangle: self.x, self.y, self.width, self.height
							id: rate_or_amount
							text: 'variance rate'
							size_hint_y: None
							option_cls: 'CustomSpinnerOption'
							height: self.texture_size[1] + dp(15)
							size_hint_x: .5
							background_color: 255,255,255,0
							color: app.return_theme_color()
							values : ['variance amount', 'variance rate']
							font_size: '15sp'
							#pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_text:
							
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 5
						
						Spinner:
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								Line:
									rectangle: self.x, self.y, self.width, self.height
							id: accounts_to_view
							option_cls: 'CustomSpinnerOption'
							text: 'Expenses and Incomes'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .5
							background_color: 255,255,255,0
							color: 'black' #app.return_theme_color()
							values : ['Expenses and Incomes', 'Sales and COS', 'All Accounts', 'Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
							font_size: '15sp'
							#pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_text:
								
						Spinner:
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								Line:
									rectangle: self.x, self.y, self.width, self.height
							id: split_budget
							text: 'Annually'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .5
							option_cls: 'CustomSpinnerOption'
							background_color: 255,255,255,0
							color: 'black' #app.return_theme_color()
							values : ['Annually', 'Semi Annually',  'Quarterly', 'Enter Ratio']
							font_size: '15sp'
							#pos_hint: {'center_x': 0.25, 'center_y': 0.5}
							on_text:
								
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,0,0,0
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'as between:'
							size_hint_x: .3
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '14sp'
							halign: 'center'
							color: 'black'
							
						MDRectangleFlatIconButton:
							id: start_date
							icon: 'calendar'
							size_hint_x: 0.35
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
						
						MDRectangleFlatIconButton:
							id: end_date
							icon: 'calendar'
							size_hint_x: .35
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
								
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 5
						
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'The Budget View'
							size_hint_x: .5
							underline: True
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'left'
							color: app.return_theme_color()
							#pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							
						MDFillRoundFlatIconButton:
							id: refresh_button
							icon: 'refresh'
							text: 'Refresh'
							size_hint: 0.5, None
							font_size: '15sp' #22
							halign: 'left'
							on_release:
								root.show_loading_popup(start_date.text, end_date.text, split_budget.text, accounts_to_view.text)
						
					BoxLayout:
						orientation: 'horizontal'
						spacing: 0
						height: self.minimum_height
						size_hint: 1,None
						
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Debit balances'
							size_hint_x: .28
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '14sp'
							halign: 'left'
							color: app.return_theme_color()
							
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Amount'
							size_hint_x: .24
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '14sp'
							halign: 'left'
							color: app.return_theme_color()
							
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Budgeted'
							size_hint_x: .24
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '14sp'
							halign: 'left'
							color: app.return_theme_color()
							
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Variance (B)'
							size_hint_x: .24
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '14sp'
							halign: 'left'
							color: app.return_theme_color()  	
				    	
				    BoxLayout:
				    	id: exportation_layout
						orientation: 'vertical'
						height: self.minimum_height
						size_hint: 1,None
									
						BoxLayout:
							orientation: 'horizontal'
							spacing: 1
							height: self.minimum_height
							size_hint: 1,None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								RoundedRectangle:
									pos: self.pos
									size: self.size
							
							BoxLayout:
								id: accounts_debit
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.28,None
									
							BoxLayout:
								id: amounts_debit
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.24,None
									
							BoxLayout:
								id: budget_column
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.24,None
									
							BoxLayout:
								id: variance_column
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.24,None
								
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(100)
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			scroll_view.scroll_y = 1
			
	MDFloatingActionButton:
		icon: 'camera'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.5}
		on_press:
			root.export_displayed_as_pdf(end_date.text, split_budget.text)
			
			
			
<OperationAnalysis>:
	name: 'operations'
	canvas.before:
		Color:
			rgb: 255,255,255
		Rectangle:
			pos: self.pos
			size: self.size
			

	error: error
	compared_accounts: compared_accounts
	exportation_layout: exportation_layout
	the_font_size: the_font_size
	accounts_column: accounts_column
	group_one: group_one
	group_two: group_two
	variance_column: variance_column
	start_date_1: start_date_1
	end_date_1: end_date_1
	start_date_2: start_date_2
	end_date_2: end_date_2
	press_option: press_option
	variance_option: variance_option
	
	Image:
		size_hint: 1,1
		keep_ratio: False
		allow_stretch: True
		source: app.app_image_file()
	
    ScrollView:
    	size_hint: 1,1
    	do_scroll_y: True
    	do_scroll_x: False
    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
    	BoxLayout:
	        orientation: 'vertical'
	        spacing: 5
			height: self.minimum_height
			size_hint: 1, 1
			
			BoxLayout:
				orientation: 'horizontal'
				spacing: 5
				height: self.minimum_height
				size_hint: 1, None
						
				MDTopAppBar:
					title: 'Operations Analysis'
					pos_hint: {'top': 1}
					#md_bg_color: 0,0,255
					opacity: 1
					size_hint_y: None
					elevation: 0
					left_action_items: [["arrow-left-circle", lambda x: root.go_back()]]
					right_action_items: [["help-circle", lambda x: root.get_help()]]
			
			ScrollView:
				id: scroll_view
		    	size_hint: 1,1
		    	do_scroll_y: True
		    	do_scroll_x: False
		    	pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    	
		    	BoxLayout:
			        orientation: 'vertical'
			        spacing: 5
					height: self.minimum_height
					size_hint: 1, None
						
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Compare and identify variances between two distinct periods, each further segmented into specific dates, for effective financial management and decision-making.'
						size_hint_x: 1
						padding: [5,5]
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 5
						canvas.before:
							Color:
								rgba: app.theme_cls.primary_color
							RoundedRectangle:
								pos: self.pos
								size: self.size
						
						Button:
							text: 'GO TO HOME PAGE'
							size_hint: .5, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							color: 'black'
							#pos_hint: {'center_x': 0.5, 'center_y': .5}
							font_size: '14sp'
							on_release:
								app.root.current = 'home'
								
						Button:
							text: 'GO TO VIEW ACCOUNTS'
							size_hint: .5, None
							height: self.texture_size[1] + 20
							background_color: 255,255,255
							color: 'black'
							font_size: '14sp'
							#pos_hint: {'center_x': 0.5, 'center_y': .5}
							on_release:
								app.root.current = 'view_accounts'
						
					MDLabel:
						id: status
						canvas.before:
							Color:
								rgba: 0,0,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Status: Comparison of operations'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: app.return_theme_color()
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					MDLabel:
						id: error
						canvas.before:
							Color:
								rgb: 255,0,0
							Rectangle:
								pos: self.pos
								size: self.size
						text: 'All fields are required'
						size_hint_x: 1
						bold: True
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'center'
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						
					BoxLayout:
						orientation: 'horizontal'
				        spacing: 5
						height: self.minimum_height
						size_hint: 1, None
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
									
						Spinner:
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								Line:
									rectangle: self.x, self.y, self.width, self.height
							id: compared_accounts
							text: 'Expenses and Incomes'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: 1
							background_color: 255,255,255,0
							color: app.return_theme_color()
							bold: True
							font_size: '15sp'
							option_cls: 'CustomSpinnerOption'
							values : ['Expenses and Incomes', 'Capital', 'Non Current Assets',  'Current Assets', 'Non Current Liabilities', 'Current Liabilities', 'Other Incomes', 'Other Expenses', 'Operating Expenses', 'Bank', 'Operating Revenue', 'Cost of Sales', 'Taxes']
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Group 1 dates split From: - To:'
						size_hint_x: .9
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '15sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								
					BoxLayout:
						size_hint: .9,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						canvas.before:
							Color:
								rgb: 255,255,255
							RoundedRectangle:
								pos: self.pos
								size: self.size
								
						MDRectangleFlatIconButton:
							id: start_date_1
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
						
						MDRectangleFlatIconButton:
							id: end_date_1
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
								
					MDLabel:
						canvas.before:
							Color:
								rgba: 255,255,255,0
							RoundedRectangle:
								pos: self.pos
								size: self.size
						text: 'Group 2 dates split From: - To:'
						size_hint_x: .9
						size_hint_y: None
						height: self.texture_size[1]
						font_size: '16sp'
						halign: 'left'
						color: 'black'
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
								
					BoxLayout:
						size_hint: .9,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						canvas.before:
							Color:
								rgb: 255,255,255
							RoundedRectangle:
								pos: self.pos
								size: self.size
								
						MDRectangleFlatIconButton:
							id: start_date_2
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
						
						MDRectangleFlatIconButton:
							id: end_date_2
							icon: 'calendar'
							size_hint_x: 0.5
							font_size: '15sp'
							halign: 'left'
							bold: True
							on_release:
								root.select_date(self)
								
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'font'
							size_hint_x: .2
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: 'black'		
								
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'group to view on press'
							size_hint_x: .4
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: 'black'
							
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: 'view rate or amount'
							size_hint_x: .4
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '15sp'
							halign: 'center'
							color: 'black'
								
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
						canvas.before:
							Color:
								rgb: 255,255,255
							RoundedRectangle:
								pos: self.pos
								size: self.size
								
						Spinner:
							id: the_font_size
							text: '13'
							size_hint_y: None
							option_cls: 'CustomSpinnerOption'
							height: self.texture_size[1] + dp(10)
							size_hint_x: .2
							background_color: 255,255,255,0
							color: 'black'
							bold: True
							values : ['9', '10', '12', '13', '14', '15', '16', '17']
							font_size: '15sp'
										
						Spinner:
							id: press_option
							text: 'group 1'
							size_hint_y: None
							height: self.texture_size[1] + dp(15)
							size_hint_x: .4
							background_color: 255,255,255,0
							color: app.return_theme_color()
							option_cls: 'CustomSpinnerOption'
							bold: True
							font_size: '15sp'
							values : ['group 1', 'group 2']
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								
						Spinner:
							id: variance_option
							text: 'variance rate'
							size_hint_y: None
							option_cls: 'CustomSpinnerOption'
							height: self.texture_size[1] + dp(15)
							size_hint_x: .4
							background_color: 255,255,255,0
							color: app.return_theme_color()
							bold: True
							font_size: '15sp'
							values : ['variance rate', 'variance amount']
							pos_hint: {'center_x': 0.5, 'center_y': 0.5}
							on_text:
								
					BoxLayout:
						size_hint: 1,None
						height: self.minimum_height
						pos_hint: {'center_x': 0.5, 'center_y': 0.5}
						spacing: 0
								
						MDLabel:
							canvas.before:
								Color:
									rgba: 255,255,255,0
								RoundedRectangle:
									pos: self.pos
									size: self.size
							text: '# Simplostats'
							size_hint_x: .5
							size_hint_y: None
							height: self.texture_size[1]
							font_size: '16sp'
							halign: 'center'
							color: app.return_theme_color()
								
						MDFillRoundFlatIconButton:
							id: refresh_button
							icon: 'refresh'
							text: 'Refresh'
							size_hint: 0.5, None
							font_size: '15sp' #22
							halign: 'left'
							on_release:
								root.show_loading_popup(compared_accounts.text, start_date_1.text, end_date_1.text, start_date_2.text, end_date_2.text)
													
					BoxLayout:
						orientation: 'horizontal'
						spacing: 0
						height: self.minimum_height
						size_hint: 1,None
						
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Accounts'
							size_hint_x: .25
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '14sp'
							halign: 'left'
							color: app.return_theme_color()
							
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Group 1'
							size_hint_x: .25
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '14sp'
							halign: 'left'
							color: app.return_theme_color()
							
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
							text: 'Group 2'
							size_hint_x: .25
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '14sp'
							halign: 'left'
							color: app.return_theme_color()
							
						MDLabel:
							canvas.before:
								Color:
									rgb: 255,255,255
								Rectangle:
									pos: self.pos
									size: self.size
							text: '% (Vr)'
							size_hint_x: .25
							bold: True
							size_hint_y: None
							height: self.texture_size[1] + 20
							font_size: '14sp'
							halign: 'left'
							color: app.return_theme_color()
							
									
					BoxLayout:
				    	id: exportation_layout
						orientation: 'vertical'
						spacing: 0
						height: self.minimum_height
						size_hint: 1,None
									
						BoxLayout:
							orientation: 'horizontal'
							spacing: 1
							height: self.minimum_height
							size_hint: 1,None
							canvas.before:
								Color:
									rgba: app.theme_cls.primary_color
								RoundedRectangle:
									pos: self.pos
									size: self.size
							
							BoxLayout:
								id: accounts_column
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.25,None
									
							BoxLayout:
								id: group_one
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.25,None
									
							BoxLayout:
								id: group_two
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.25,None
									
							BoxLayout:
								id: variance_column
								canvas.before:
									Color:
										rgb: 255,255,255
									Rectangle:
										pos: self.pos
										size: self.size
								orientation: 'vertical'
								spacing: 5
								height: self.minimum_height
								size_hint: 0.25,None
								
					Button:
						text: 'accounting software'
						size_hint_x: 1
						size_hint_y: None
						height: self.texture_size[1] + dp(100)
						background_color: 0,0,0,0
						background_normal: ''
						bold: True
						opacity: 0
						halign: 'center'
						font_size: 20
						color: 'white'
						pos_hint: {'center_x': 0.5, 'center_y': 5}
						
	MDFloatingActionButton:
		icon: 'arrow-up-bold'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.9}
		on_press:
			scroll_view.scroll_y = 1
			
	MDFloatingActionButton:
		icon: 'camera'
		opacity: .5
		pos_hint: {'right': 1, 'center_y': 0.5}
		on_press:
			root.export_displayed_as_pdf(start_date_1.text, end_date_1.text, start_date_2.text, end_date_2.text)
